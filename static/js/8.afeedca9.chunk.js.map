{"version":3,"sources":["components/UserCard.js","pages/template/Criterion.js","pages/council/CouncilCard.js","pages/my/topic/TopicCard.js","pages/my/mark/MarkTab.js","pages/my/mark/Mark.js"],"names":["MainComponent","user","remove","history","useHistory","color","iconPadding","className","header","class","content","lastName","onClick","push","id","degreeName","code","firstName","style","right","position","name","text","email","width","criterion","children","deep","edit","updateCriterion","removeCriterion","props","score","scores","find","e","toString","updateChildren","renderChildren","item","index","key","nextItem","nextChildren","localUpdateCriterion","splice","localRemoveCriterion","row","rows","parseInt","description","length","value","onChange","target","md","size","variant","split","nextCriterion","parentId","mark","list","setList","map","maxWidth","placeholder","disabled","disableMark","updateScore","slice","comment","council","subjectDepartmentName","reserveDate","startTime","endTime","location","topic","vi","en","settingTemplate","topicId","studentId","teacherId","scoreExample","teacher","contextHolder","student","useState","setScores","useEffect","api","post","then","template","rootCriterion","findIndex","nextScores","entities","toastHolder","success","searchParams","URL","window","href","pathname","match","tabIndex","setTabIndex","data","setData","setTopic","setStudent","get","params","role","res","response","targetStudent","students","activeTab","onActiveTabChange","tabData"],"mappings":"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","file":"static/js/8.afeedca9.chunk.js","sourcesContent":["import CIcon from \"@coreui/icons-react\";\r\nimport { CLink, CTooltip, CWidgetIcon } from \"@coreui/react\";\r\nimport React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst MainComponent = ({ user, remove }) => {\r\n  const history = useHistory();\r\n\r\n  const viewDetail = () => {\r\n    history.push(`/users/${user.id}`);\r\n  };\r\n\r\n  if (!user) return null;\r\n\r\n  return (\r\n    <CWidgetIcon\r\n      color=\"info\"\r\n      iconPadding={false}\r\n      className=\"mb-0\"\r\n      header={\r\n        <tr class=\"d-flex justify-content-between\">\r\n          <CTooltip content={`Xem chi tiết thông tin về ${user.lastName}`}>\r\n            <CLink onClick={viewDetail}>\r\n              <td>\r\n                {`${user.degreeName} mã số ${user.code}`}\r\n                <br />\r\n                {`${user.firstName} ${user.lastName}`}\r\n              </td>\r\n            </CLink>\r\n          </CTooltip>\r\n          {remove && (\r\n            <CTooltip content={\"Xóa\"}>\r\n              <CLink\r\n                style={{ right: 5, position: \"absolute\" }}\r\n                onClick={remove}\r\n              >\r\n                <CIcon name=\"cil-x-circle\" />\r\n              </CLink>\r\n            </CTooltip>\r\n          )}\r\n        </tr>\r\n      }\r\n      text={<small>{user.email}</small>}\r\n    >\r\n      <CIcon width={24} name=\"cil-user\" />\r\n    </CWidgetIcon>\r\n  );\r\n};\r\n\r\nexport default MainComponent;\r\n","import CIcon from \"@coreui/icons-react\";\r\nimport {\r\n  CButton,\r\n  CCol,\r\n  CDropdown,\r\n  CDropdownItem,\r\n  CDropdownMenu,\r\n  CDropdownToggle,\r\n  CForm,\r\n  CFormGroup,\r\n  CInput,\r\n  CTextarea,\r\n  CTooltip,\r\n} from \"@coreui/react\";\r\nimport React from \"react\";\r\nimport { ReactSortable } from \"react-sortablejs\";\r\n\r\nconst MainComponent = ({\r\n  criterion = { children: [] },\r\n  deep,\r\n  edit,\r\n  updateCriterion = () => {},\r\n  removeCriterion = () => {},\r\n  ...props\r\n}) => {\r\n  const score = props.scores?.find(\r\n    (e) => e.criterion.id.toString() === criterion.id.toString()\r\n  );\r\n\r\n  const updateChildren = (children) =>\r\n    updateCriterion({ ...criterion, children });\r\n\r\n  const addCriterion = () => {\r\n    const nextCriterion = { ...criterion };\r\n    nextCriterion.children = [\r\n      ...criterion.children,\r\n      { parentId: criterion.id, children: [] },\r\n    ];\r\n    updateCriterion(nextCriterion);\r\n  };\r\n\r\n  const localUpdateCriterion = (index, nextItem) => {\r\n    const nextChildren = [...criterion.children];\r\n    nextChildren[index] = nextItem;\r\n    updateChildren(nextChildren);\r\n  };\r\n\r\n  const localRemoveCriterion = (index) => {\r\n    const nextChildren = [...criterion.children];\r\n    nextChildren.splice(index, 1);\r\n    updateChildren(nextChildren);\r\n  };\r\n\r\n  const renderChildren = (item, index) => {\r\n    return (\r\n      <MainComponent\r\n        {...props}\r\n        key={item.id}\r\n        criterion={item}\r\n        deep={deep + 1}\r\n        edit={edit}\r\n        updateCriterion={(nextItem) => localUpdateCriterion(index, nextItem)}\r\n        removeCriterion={() => localRemoveCriterion(index)}\r\n      />\r\n    );\r\n  };\r\n\r\n  return (\r\n    <CForm className={`${deep > 0 ? `ml-4 mt-${4 - deep}` : \"\"}`}>\r\n      <CFormGroup row className=\"pl-0 ml-0 mb-0\">\r\n        <CCol className=\"pl-0 pr-1\">\r\n          {edit && deep > 0 ? (\r\n            <CTextarea\r\n              rows={parseInt(criterion.description?.length / 130) + 1}\r\n              value={criterion.description}\r\n              onChange={(e) =>\r\n                updateCriterion({ ...criterion, description: e.target.value })\r\n              }\r\n            />\r\n          ) : (\r\n            <>{deep > 0 ? criterion.description : null}</>\r\n          )}\r\n        </CCol>\r\n        {edit && (\r\n          <CCol md=\"0\">\r\n            <CDropdown>\r\n              <CTooltip content={\"Giữ và kéo để thay đổi thứ tự\"}>\r\n                <CDropdownToggle\r\n                  size=\"sm\"\r\n                  color=\"primary\"\r\n                  variant=\"outline\"\r\n                  split\r\n                >\r\n                  <CIcon name=\"cil-cursor-move\" />\r\n                </CDropdownToggle>\r\n              </CTooltip>\r\n              <CDropdownMenu>\r\n                <CDropdownItem onClick={addCriterion}>\r\n                  Thêm tiêu chí con\r\n                </CDropdownItem>\r\n                {deep > 0 && (\r\n                  <>\r\n                    <CDropdownItem\r\n                      onClick={() => {\r\n                        updateCriterion({\r\n                          ...criterion,\r\n                          mark: !criterion.mark,\r\n                        });\r\n                      }}\r\n                    >\r\n                      {criterion.mark ? \"Hủy chấm điểm\" : \"Chấm điểm tiêu chí\"}\r\n                    </CDropdownItem>\r\n                    <CDropdownItem onClick={removeCriterion}>\r\n                      Xóa tiêu chí\r\n                    </CDropdownItem>\r\n                  </>\r\n                )}\r\n              </CDropdownMenu>\r\n            </CDropdown>\r\n          </CCol>\r\n        )}\r\n      </CFormGroup>\r\n\r\n      {criterion.children &&\r\n        criterion.children.length > 0 &&\r\n        (edit ? (\r\n          <ReactSortable list={criterion?.children} setList={updateChildren}>\r\n            {criterion?.children?.map(renderChildren)}\r\n          </ReactSortable>\r\n        ) : (\r\n          criterion?.children?.map(renderChildren)\r\n        ))}\r\n\r\n      {criterion.mark && (\r\n        <CFormGroup row className=\"m-0 ml-2\">\r\n          <CCol className=\"p-0\" style={{ maxWidth: 60 }}>\r\n            <CInput\r\n              size=\"sm\"\r\n              placeholder={\"Điểm\"}\r\n              value={score?.score}\r\n              disabled={props.disableMark}\r\n              onChange={(e) =>\r\n                props.updateScore({\r\n                  ...score,\r\n                  criterion: { id: criterion.id },\r\n                  score: e.target.value,\r\n                })\r\n              }\r\n            />\r\n          </CCol>\r\n          <CCol className=\"p-0\">\r\n            <CTextarea\r\n              size=\"sm\"\r\n              rows={1}\r\n              placeholder={`Bình luận cho: ${criterion.description?.slice(\r\n                0,\r\n                150\r\n              )}`}\r\n              value={score?.comment}\r\n              disabled={props.disableMark}\r\n              onChange={(e) =>\r\n                props.updateScore({\r\n                  ...score,\r\n                  criterion: { id: criterion.id },\r\n                  comment: e.target.value,\r\n                })\r\n              }\r\n            />\r\n          </CCol>\r\n          {edit && (\r\n            <CCol md=\"0\">\r\n              <CTooltip content={`Bỏ chấm điểm tiêu chí`}>\r\n                <CButton\r\n                  size=\"sm\"\r\n                  color=\"primary\"\r\n                  variant={\"ghost\"}\r\n                  onClick={() => {\r\n                    updateCriterion({\r\n                      ...criterion,\r\n                      mark: false,\r\n                    });\r\n                  }}\r\n                >\r\n                  <CIcon name=\"cil-trash\" />\r\n                </CButton>\r\n              </CTooltip>\r\n            </CCol>\r\n          )}\r\n        </CFormGroup>\r\n      )}\r\n    </CForm>\r\n  );\r\n};\r\n\r\nexport default MainComponent;\r\n","import { CLink, CTooltip, CWidgetIcon } from \"@coreui/react\";\r\nimport React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst MainComponent = ({ council = {} }) => {\r\n  const history = useHistory();\r\n\r\n  const viewDetail = () => {\r\n    history.push(`/councils/detail/${council.id}`);\r\n  };\r\n\r\n  return (\r\n    <CWidgetIcon\r\n      color=\"info\"\r\n      iconPadding={false}\r\n      className=\"mb-0\"\r\n      header={\r\n        <CTooltip content={`Xem chi tiết hội đồng mã số ${council.id}`}>\r\n          <CLink onClick={viewDetail}>\r\n            {`${council.subjectDepartmentName}`}\r\n            <br />\r\n            {`${council.reserveDate}: ${council.startTime} - ${council.endTime}`}\r\n          </CLink>\r\n        </CTooltip>\r\n      }\r\n      text={\r\n        council.location && (\r\n          <small>{`${\r\n            council.location.slice(0, 300) +\r\n            (council.location.length > 300 ? \"...\" : \"\")\r\n          }`}</small>\r\n        )\r\n      }\r\n    >\r\n      {council.id}\r\n    </CWidgetIcon>\r\n  );\r\n};\r\n\r\nexport default MainComponent;\r\n","import { CLink, CTooltip, CWidgetIcon } from \"@coreui/react\";\r\nimport React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst MainComponent = ({ topic }) => {\r\n  const history = useHistory();\r\n\r\n  const viewDetail = () => {\r\n    history.push(`/topics/${topic.id}`);\r\n  };\r\n\r\n  return (\r\n    <CWidgetIcon\r\n      color=\"info\"\r\n      iconPadding={false}\r\n      className=\"mb-0\"\r\n      header={\r\n        <CTooltip content={`Xem chi tiết đề tài mã số ${topic.id}`}>\r\n          <CLink onClick={viewDetail}>\r\n            {`${topic.name?.vi}`}\r\n            <br />\r\n            {`${topic.name?.en}`}\r\n          </CLink>\r\n        </CTooltip>\r\n      }\r\n      text={\r\n        topic.description && (\r\n          <small>{`${\r\n            topic.description.slice(0, 300) +\r\n            (topic.description.length > 300 ? \"...\" : \"\")\r\n          }`}</small>\r\n        )\r\n      }\r\n    >\r\n      {topic.id}\r\n    </CWidgetIcon>\r\n  );\r\n};\r\n\r\nexport default MainComponent;\r\n","import CIcon from \"@coreui/icons-react\";\r\nimport {\r\n  CButton,\r\n  CCard,\r\n  CCardBody,\r\n  CCardFooter,\r\n  CCardHeader,\r\n} from \"@coreui/react\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Criterion from \"src/pages/template/Criterion\";\r\nimport api from \"src/service/api\";\r\nimport contextHolder from \"src/service/contextService\";\r\nimport toastHolder from \"src/service/toastService\";\r\n\r\nconst MainComponent = ({\r\n  settingTemplate,\r\n  topicId,\r\n  studentId,\r\n  teacherId,\r\n  disableMark = false,\r\n}) => {\r\n  const scoreExample = {\r\n    settingTemplate: { id: settingTemplate.id },\r\n    topic: { id: topicId },\r\n    teacher: { id: teacherId ?? contextHolder.user.id },\r\n    student: { id: studentId },\r\n  };\r\n\r\n  const [scores, setScores] = useState([]);\r\n\r\n  const updateScore = (score) => {\r\n    score = { ...score, ...scoreExample };\r\n    const index = scores.findIndex(\r\n      (e) => e.criterion.id === score.criterion.id\r\n    );\r\n    if (index < 0) {\r\n      setScores([...scores, score]);\r\n    } else {\r\n      let nextScores = scores.slice();\r\n      nextScores[index] = score;\r\n      setScores(nextScores);\r\n    }\r\n  };\r\n\r\n  const submit = () => {\r\n    api.post(`/scores/all`, { entities: scores }).then(() => {\r\n      toastHolder.success(\"Chấm điểm thành công\");\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    api.post(`/scores/example`, scoreExample).then(setScores);\r\n  }, []);\r\n\r\n  return (\r\n    <CCard>\r\n      <CCardHeader>{settingTemplate.template?.description}</CCardHeader>\r\n      <CCardBody className=\"pl-0 mr-3\">\r\n        <Criterion\r\n          criterion={settingTemplate.template?.rootCriterion}\r\n          deep={0}\r\n          scores={scores}\r\n          updateScore={updateScore}\r\n          disableMark={disableMark}\r\n        />\r\n      </CCardBody>\r\n      {!disableMark && (\r\n        <CCardFooter>\r\n          <CButton size=\"sm\" color=\"primary\" onClick={submit}>\r\n            <CIcon name=\"cil-save\" /> Lưu\r\n          </CButton>\r\n        </CCardFooter>\r\n      )}\r\n    </CCard>\r\n  );\r\n};\r\n\r\nexport default MainComponent;\r\n","import {\r\n  CCard,\r\n  CCardBody,\r\n  CCardHeader,\r\n  CCol,\r\n  CNav,\r\n  CNavItem,\r\n  CNavLink,\r\n  CRow,\r\n  CTabContent,\r\n  CTabPane,\r\n  CTabs\r\n} from \"@coreui/react\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport UserCard from \"src/components/UserCard\";\r\nimport CouncilCard from \"src/pages/council/CouncilCard\";\r\nimport TopicCard from \"src/pages/my/topic/TopicCard\";\r\nimport api from \"src/service/api\";\r\nimport MarkTab from \"./MarkTab\";\r\n\r\nconst MainComponent = () => {\r\n  const searchParams = new URL(window.location.href).searchParams;\r\n  const topicId = window.location.pathname.match(\r\n    /my\\/topics\\/([0-9]+)\\/mark/,\r\n    \"\"\r\n  )[1];\r\n\r\n  const [tabIndex, setTabIndex] = useState(0);\r\n  const [data, setData] = useState([]);\r\n  const [topic, setTopic] = useState({});\r\n  const [student, setStudent] = useState({});\r\n\r\n  useEffect(() => {\r\n    api\r\n      .get(`/setting-templates/topic`, {\r\n        params: {\r\n          topicId,\r\n          role: searchParams.get(\"role\"),\r\n        },\r\n      })\r\n      .then((res) => {\r\n        setData(res);\r\n      });\r\n    api.get(`/topics/detail/${topicId}`).then((response) => {\r\n      setTopic(response);\r\n      const targetStudent = response.students.find(\r\n        (e) => e.code == searchParams.get(\"student\")\r\n      );\r\n      setStudent(targetStudent);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <CCard>\r\n      <CCardHeader className=\"pb-2\">\r\n        <CRow class=\"d-flex justify-content-center\">\r\n          {searchParams.get(\"role\") === \"council\" && (\r\n            <CCol md=\"4\">\r\n              <CouncilCard council={topic.council} />\r\n            </CCol>\r\n          )}\r\n          <CCol md=\"4\">\r\n            <TopicCard topic={topic} />\r\n          </CCol>\r\n          <CCol md=\"4\">\r\n            <UserCard user={student} />\r\n          </CCol>\r\n        </CRow>\r\n      </CCardHeader>\r\n      <CCardBody>\r\n        <CTabs activeTab={tabIndex} onActiveTabChange={setTabIndex}>\r\n          <CNav variant=\"tabs\">\r\n            {data.map((e) => (\r\n              <CNavItem key={e.id}>\r\n                <CNavLink>{e.template?.name}</CNavLink>\r\n              </CNavItem>\r\n            ))}\r\n          </CNav>\r\n          <CTabContent>\r\n            {data.map((tabData, index) => (\r\n              <CTabPane>\r\n                {index === tabIndex && (\r\n                  <MarkTab\r\n                    settingTemplate={tabData}\r\n                    topicId={topicId}\r\n                    studentId={student.id}\r\n                  />\r\n                )}\r\n              </CTabPane>\r\n            ))}\r\n          </CTabContent>\r\n        </CTabs>\r\n      </CCardBody>\r\n    </CCard>\r\n  );\r\n};\r\n\r\nexport default MainComponent;\r\n"],"sourceRoot":""}