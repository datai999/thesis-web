{"version":3,"sources":["pages/user/UserTable.js"],"names":["fields","key","label","_style","width","minWidth","Component","queryPage","useLocation","search","match","currentPage","Number","history","useHistory","useState","page","setPage","data","setData","useEffect","api","get","params","direction","then","sm","className","items","hover","striped","sorter","columnFilter","tableFilter","itemsPerPageSelect","itemsPerPage","activePage","clickableRows","onRowClick","item","push","id","scopedSlots","permissions","map","e","size","onActivePageChange","newPage","align"],"mappings":"wOAaMA,EAAS,CACb,CAAEC,IAAK,OAAQC,MAAO,gBAASC,OAAQ,CAAEC,MAAO,IAChD,CAAEH,IAAK,YAAaC,MAAO,UAAMC,OAAQ,IACzC,CAAEF,IAAK,WAAYC,MAAO,SAAOC,OAAQ,CAAEC,MAAO,IAClD,CAAEH,IAAK,SAAUC,MAAO,oBAAaC,OAAQ,CAAEC,MAAO,KACtD,CAAEH,IAAK,aAAcC,MAAO,mBAAUC,OAAQ,CAAEC,MAAO,KACvD,CAAEH,IAAK,wBAAyBC,MAAO,iBAAUC,OAAQ,CAAEE,SAAU,MACrE,CAAEJ,IAAK,sBAAuBC,MAAO,uBAAWC,OAAQ,CAAEC,MAAO,MACjE,CAAEH,IAAK,YAAaC,MAAO,qBAAgBC,OAAQ,CAAEC,MAAO,MAC5D,CAAEH,IAAK,QAASC,MAAO,QAASC,OAAQ,CAAEC,MAAO,KACjD,CAAEH,IAAK,cAAeC,MAAO,sBAAaC,OAAQ,CAAEC,MAAO,KA2E9CE,UAxEG,WAChB,IACMC,EAAYC,cAAcC,OAAOC,MAAM,gBAAiB,IACxDC,EAAcC,OAAOL,GAAaA,EAAU,GAAKA,EAAU,GAAK,GAChEM,EAAUC,cAEhB,EAAwBC,mBAASJ,GAAjC,mBAAOK,EAAP,KAAaC,EAAb,KACA,EAAwBF,mBAAS,IAAjC,mBAAOG,EAAP,KAAaC,EAAb,KAYA,OALAC,qBAAU,WACRC,IAAIC,IAAI,SAAU,CAAEC,OAAQ,CAAEC,UAAW,UAAYC,KAAKN,KAEzD,IAGD,eAAC,IAAD,WACE,cAAC,IAAD,UACE,eAAC,KAAD,WACE,cAAC,IAAD,CAAMO,GAAG,IAAT,SACE,oBAAIC,UAAU,kBAAd,oDAEF,cAAC,IAAD,CAAMD,GAAG,IAAIC,UAAU,2BAW3B,eAAC,IAAD,WACE,cAAC,IAAD,CACEC,MAAOV,EACPlB,OAAQA,EACR6B,OAAK,EACLC,SAAO,EACPC,QAAM,EACNC,cAAY,EACZC,aAAW,EACXC,oBAAkB,EAClBC,aA9CK,EA+CLC,WAAYpB,EACZqB,eAAa,EACbC,WAAY,SAACC,GAAD,OAAU1B,EAAQ2B,KAAR,iBAAuBD,EAAKE,MAClDC,YAAa,CACXC,YAAa,SAACJ,GAAD,OACX,6BACGA,EAAKI,YAAYC,KAAI,SAACC,GAAD,OACpB,8BAAMA,aAMhB,cAAC,KAAD,CACEC,KAAK,KACLV,WAAYpB,EACZ+B,mBAvDW,SAACC,GAClBrC,IAAgBqC,GAAWnC,EAAQ2B,KAAR,sBAA4BQ,IACvD/B,EAAQ+B,IAsDFC,MAAM","file":"static/js/58.8bd9dae2.chunk.js","sourcesContent":["import {\r\n  CCard,\r\n  CCardBody,\r\n  CCardHeader,\r\n  CCol,\r\n  CDataTable,\r\n  CPagination,\r\n  CRow,\r\n} from \"@coreui/react\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport api from \"src/service/api\";\r\n\r\nconst fields = [\r\n  { key: \"code\", label: \"Mã số\", _style: { width: 1 } },\r\n  { key: \"firstName\", label: \"Họ\", _style: {} },\r\n  { key: \"lastName\", label: \"Tên\", _style: { width: 1 } },\r\n  { key: \"gender\", label: \"Giới tính\", _style: { width: 10 } },\r\n  { key: \"degreeName\", label: \"Học vị\", _style: { width: 80 } },\r\n  { key: \"subjectDepartmentName\", label: \"Bộ môn\", _style: { minWidth: 130 } },\r\n  { key: \"educationMethodName\", label: \"Đào tạo\", _style: { width: 120 } },\r\n  { key: \"majorName\", label: \"Chuyên ngành\", _style: { width: 150 } },\r\n  { key: \"email\", label: \"Email\", _style: { width: 10 } },\r\n  { key: \"permissions\", label: \"Quyền hạn\", _style: { width: 1 } },\r\n];\r\n\r\nconst Component = () => {\r\n  const size = 5;\r\n  const queryPage = useLocation().search.match(/page=([0-9]+)/, \"\");\r\n  const currentPage = Number(queryPage && queryPage[1] ? queryPage[1] : 1);\r\n  const history = useHistory();\r\n\r\n  const [page, setPage] = useState(currentPage);\r\n  const [data, setData] = useState([]);\r\n\r\n  const pageChange = (newPage) => {\r\n    currentPage !== newPage && history.push(`/users?page=${newPage}`);\r\n    setPage(newPage);\r\n  };\r\n\r\n  useEffect(() => {\r\n    api.get(\"/users\", { params: { direction: \"DESC\" } }).then(setData);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <CCard>\r\n      <CCardHeader>\r\n        <CRow>\r\n          <CCol sm=\"5\">\r\n            <h5 className=\"card-title mb-0\">Danh sách người dùng</h5>\r\n          </CCol>\r\n          <CCol sm=\"7\" className=\"d-none d-md-block\">\r\n            {/* <CButton\r\n              color=\"primary\"\r\n              className=\"float-right\"\r\n              onClick={() => history.push(`/students/create`)}\r\n            >\r\n              Thêm sinh viên mới\r\n            </CButton> */}\r\n          </CCol>\r\n        </CRow>\r\n      </CCardHeader>\r\n      <CCardBody>\r\n        <CDataTable\r\n          items={data}\r\n          fields={fields}\r\n          hover\r\n          striped\r\n          sorter\r\n          columnFilter\r\n          tableFilter\r\n          itemsPerPageSelect\r\n          itemsPerPage={size}\r\n          activePage={page}\r\n          clickableRows\r\n          onRowClick={(item) => history.push(`/users/${item.id}`)}\r\n          scopedSlots={{\r\n            permissions: (item) => (\r\n              <td>\r\n                {item.permissions.map((e) => (\r\n                  <div>{e}</div>\r\n                ))}\r\n              </td>\r\n            ),\r\n          }}\r\n        />\r\n        <CPagination\r\n          size=\"sm\"\r\n          activePage={page}\r\n          onActivePageChange={pageChange}\r\n          align=\"center\"\r\n        />\r\n      </CCardBody>\r\n    </CCard>\r\n  );\r\n};\r\n\r\nexport default Component;\r\n"],"sourceRoot":""}