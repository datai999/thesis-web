{"version":3,"sources":["pages/council/CouncilDetail.js"],"names":["UserCard","user","color","iconPadding","className","header","class","degreeName","code","firstName","lastName","text","email","width","name","MainComponent","councilId","useLocation","pathname","match","useHistory","useState","council","setCouncil","useEffect","api","get","then","console","log","Object","entries","_","groupBy","members","e","role","subjectDepartmentName","id","sort","a","b","displayOrder","map","md","length","councilMember","member","range","max","index","teachers","disabled","placeholder","value","location","row","type","reserveDate","startTime","endTime","rows","note"],"mappings":"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","file":"static/js/51.97de7a25.chunk.js","sourcesContent":["import CIcon from \"@coreui/icons-react\";\r\nimport {\r\n  CCard,\r\n  CCardBody,\r\n  CCardHeader,\r\n  CCol,\r\n  CForm,\r\n  CFormGroup,\r\n  CInput,\r\n  CLabel,\r\n  CRow,\r\n  CTextarea,\r\n  CWidgetIcon,\r\n} from \"@coreui/react\";\r\nimport _ from \"lodash\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport api from \"src/service/api\";\r\n\r\nconst MainComponent = () => {\r\n  const councilId = useLocation().pathname.match(\r\n    /(?:\\/councils\\/detail\\/)(\\d+)/,\r\n    \"\"\r\n  )[1];\r\n\r\n  const history = useHistory();\r\n  const [council, setCouncil] = useState({});\r\n\r\n  useEffect(() => {\r\n    api.get(`/councils/detail/${councilId}`).then(setCouncil);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  console.log(Object.entries(_.groupBy(council.members, (e) => e.role.name)));\r\n\r\n  return (\r\n    <CCard>\r\n      <CCardHeader>\r\n        <h5 className=\"card-title mb-0\">\r\n          Hội đồng {council.subjectDepartmentName} mã số {council.id}\r\n        </h5>\r\n      </CCardHeader>\r\n      <CCardBody>\r\n        <CRow>\r\n          <CCol className=\"mb-4\">\r\n            <CRow>\r\n              {Object.entries(_.groupBy(council.members, (e) => e.role.name))\r\n                .sort(\r\n                  (a, b) =>\r\n                    a[1][0].role.displayOrder - b[1][0].role.displayOrder\r\n                )\r\n                .map((e) => (\r\n                  <CCol\r\n                    key={e[0]}\r\n                    md={e[1].length > 1 ? 12 : 6}\r\n                    className=\"border py-2\"\r\n                  >\r\n                    <CLabel>{e[0]}</CLabel>\r\n                    <br />\r\n                    <CRow>\r\n                      {e[1].map((councilMember) => (\r\n                        <CCol key={councilMember} md={e[1].length > 1 ? 6 : 12}>\r\n                          <UserCard user={councilMember.member} />\r\n                        </CCol>\r\n                      ))}\r\n                      {_.range(e[1].length, e[1].max).map((e) => (\r\n                        <CCol key={e}></CCol>\r\n                      ))}\r\n                    </CRow>\r\n                  </CCol>\r\n                ))}\r\n              {[].map((role, index) => (\r\n                <CCol\r\n                  key={role.id}\r\n                  md={role.max > 1 ? 12 : 6}\r\n                  className=\"border py-2\"\r\n                >\r\n                  <CLabel>{role.name}</CLabel>\r\n                  <br />\r\n                  <CRow>\r\n                    {role.teachers.map((e) => (\r\n                      <CCol key={e} md={role.max > 1 ? 6 : 12}>\r\n                        <UserCard user={e} />\r\n                      </CCol>\r\n                    ))}\r\n                    {_.range(role.teachers.length, role.max).map((e) => (\r\n                      <CCol key={e}></CCol>\r\n                    ))}\r\n                  </CRow>\r\n                </CCol>\r\n              ))}\r\n            </CRow>\r\n          </CCol>\r\n          <CCol>\r\n            <fieldset disabled={true}>\r\n              <CForm>\r\n                <CFormGroup>\r\n                  <CLabel>Địa điểm</CLabel>\r\n                  <CInput\r\n                    placeholder=\"Cơ sở, tòa nhà, phòng hoặc link meet...\"\r\n                    value={council.location}\r\n                  />\r\n                </CFormGroup>\r\n\r\n                <CFormGroup row>\r\n                  <CCol>\r\n                    <CLabel>Ngày</CLabel>\r\n                    <CInput type=\"date\" value={council.reserveDate} />\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CLabel>Thời gian bắt đầu</CLabel>\r\n                    <CInput type=\"time\" value={council.startTime} />\r\n                  </CCol>\r\n                  <CCol>\r\n                    <CLabel>Thời gian kết thúc</CLabel>\r\n                    <CInput type=\"time\" value={council.endTime} />\r\n                  </CCol>\r\n                </CFormGroup>\r\n\r\n                <CFormGroup>\r\n                  <CLabel>Ghi chú</CLabel>\r\n                  <CTextarea\r\n                    rows=\"7\"\r\n                    placeholder=\"Ghi chú...\"\r\n                    value={council.note}\r\n                  />\r\n                </CFormGroup>\r\n              </CForm>\r\n            </fieldset>\r\n          </CCol>\r\n        </CRow>\r\n      </CCardBody>\r\n    </CCard>\r\n  );\r\n};\r\n\r\nconst UserCard = ({ user }) => (\r\n  <CWidgetIcon\r\n    color=\"info\"\r\n    iconPadding={false}\r\n    className=\"mb-2 mx-0 px-0\"\r\n    header={\r\n      <>\r\n        <tr class=\"d-flex justify-content-between\">\r\n          <td>{`${user.degreeName} mã số ${user.code}`}</td>\r\n        </tr>\r\n        {`${user.firstName} ${user.lastName}`}\r\n      </>\r\n    }\r\n    text={<small>{`${user.email}`}</small>}\r\n  >\r\n    <CIcon width={24} name=\"cil-user\" />\r\n  </CWidgetIcon>\r\n);\r\n\r\nexport default MainComponent;\r\n"],"sourceRoot":""}