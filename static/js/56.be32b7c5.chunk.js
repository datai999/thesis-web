(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[56],{799:function(e,t,c){"use strict";c.r(t);var n=c(135),i=c(48),s=c(1),a=c(26),l=c(717),r=c(46),j=c(77),b=c(13),o=function(e){var t=e.settingTemplate,c=e.onDeleted,n=Object(l.b)([l.a.EDUCATION_STAFF]),s=function(){return window.open("".concat(window.location.origin,"/templates/").concat(t.templateId),"_blank")};return Object(b.jsx)(i.Qb,{color:"info",iconPadding:!1,className:"mb-2 mx-0 px-0",header:Object(b.jsxs)("tr",{class:"d-flex justify-content-between",children:[Object(b.jsx)("td",{children:Object(b.jsx)(i.Mb,{content:"Xem chi ti\u1ebft m\u1eabu ti\xeau ch\xed s\u1ed1 ".concat(t.templateId),children:Object(b.jsx)(i.ab,{onClick:s,children:"".concat(t.name)})})}),n&&Object(b.jsx)("td",{children:Object(b.jsxs)(i.z,{style:{top:2,right:5,position:"absolute"},children:[Object(b.jsx)(i.E,{size:"sm",color:"dark",variant:"outline"}),Object(b.jsxs)(i.D,{children:[Object(b.jsx)(i.C,{onClick:s,children:"Xem chi ti\u1ebft"}),Object(b.jsx)(i.C,{onClick:function(){j.a.delete("/setting-templates/logic/".concat(t.id)).then(c)},children:"X\xf3a m\u1eabu ti\xeau ch\xed"})]})]})})]}),text:Object(b.jsx)("small",{children:"".concat(t.description.slice(0,300)+(t.description.length>300?"...":""))}),children:t.templateId})},u=[{key:"id",label:"M\xe3",_style:{width:1}},{key:"name",label:"T\xean m\u1eabu"},{key:"description",label:"M\xf4 t\u1ea3"}],d=function(e){var t=e.view,c=e.disableView,a=e.selected,l=Object(s.useState)(1),r=Object(n.a)(l,2),o=r[0],d=r[1],h=Object(s.useState)([]),O=Object(n.a)(h,2),m=O[0],p=O[1];return Object(s.useEffect)((function(){j.a.get("/templates",{params:{direction:"DESC"}}).then(p)}),[o]),Object(b.jsxs)(i.db,{color:"info",size:"lg",show:t,onClose:c,children:[Object(b.jsx)(i.gb,{closeButton:!0,children:Object(b.jsx)(i.hb,{children:"T\xecm ki\u1ebfm m\u1eabu ti\xeau ch\xed"})}),Object(b.jsxs)(i.eb,{children:[Object(b.jsx)(i.y,{items:m,fields:u,sorter:!0,hover:!0,striped:!0,columnFilter:!0,itemsPerPage:5,activePage:o,clickableRows:!0,onRowClick:a}),Object(b.jsx)(i.pb,{activePage:o,onActivePageChange:function(e){o!==e&&d(e)},align:"center"})]}),Object(b.jsx)(i.fb,{children:Object(b.jsx)(i.f,{color:"secondary",onClick:c,children:"Quay v\u1ec1"})})]})},h=function(){var e=Object(s.useState)({}),t=Object(n.a)(e,2),c=t[0],a=t[1],u=Object(s.useState)(!1),h=Object(n.a)(u,2),O=h[0],m=h[1],p=Object(s.useState)({}),x=Object(n.a)(p,2),f=x[0],g=x[1],v=Object(l.b)([l.a.EDUCATION_STAFF]),k=function(){return j.a.get("/setting-templates/group-role").then(a)};return Object(s.useEffect)((function(){k()}),[]),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)(d,{view:O,disableView:function(){return m(!1)},selected:function(e){m(!1),j.a.post("/setting-templates",Object(r.a)(Object(r.a)({},f),{},{template:e})).then(k)}}),Object.entries(c).map((function(e){var t;return Object(b.jsxs)(i.j,{className:"mt-3",children:[Object(b.jsx)(i.n,{color:"dark",className:"text-white",children:"thesis"===e[0]?"Lu\u1eadn v\u0103n":"\u0110\u1ec1 c\u01b0\u01a1ng"}),null===(t=e[1])||void 0===t?void 0:t.map((function(e){return Object(b.jsx)(i.cb,{action:!0,children:Object(b.jsxs)(i.tb,{children:[Object(b.jsxs)(i.u,{md:"2",children:[Object(b.jsx)("strong",{children:e.name}),Object(b.jsx)("br",{}),v&&Object(b.jsx)(i.f,{size:"sm",color:"primary",variant:"outline",onClick:function(){return function(e){g(e),m(!0)}(e)},children:"Th\xeam m\u1eabu ti\xeau ch\xed"})]}),Object(b.jsx)(i.u,{children:e.templates.filter((function(e){return!e.deleted})).map((function(e){return Object(b.jsx)(o,{settingTemplate:e,onDeleted:k})}))})]})},e.name)}))]})}))]})},O=c(59),m=[{key:"id",label:"M\xe3",_style:{width:1}},{key:"name",label:"T\xean m\u1eabu"},{key:"description",label:"M\xf4 t\u1ea3"},{key:"actions",label:"",_style:{width:1},sorter:!1,filter:!1}],p=function(){var e=Object(a.g)(),t=Object(a.h)().search.match(/page=([0-9]+)/,""),c=Number(t&&t[1]?t[1]:1),r=Object(s.useState)(c),o=Object(n.a)(r,2),u=o[0],d=o[1],h=Object(s.useState)([]),p=Object(n.a)(h,2),x=p[0],f=p[1],g=Object(l.b)([l.a.EDUCATION_STAFF]);return Object(s.useEffect)((function(){j.a.get("/templates",{params:{direction:"DESC"}}).then(f)}),[u]),Object(b.jsx)(i.j,{children:Object(b.jsxs)(i.k,{children:[Object(b.jsx)(i.y,{items:x,fields:g?m:m.slice(0,-1),activePage:u,itemsPerPage:5,hover:!0,sorter:!0,striped:!0,columnFilter:!0,tableFilter:!0,itemsPerPageSelect:!0,scopedSlots:{actions:function(t){return Object(b.jsx)("td",{children:Object(b.jsx)(i.Mb,{content:"Ch\u1ec9nh s\u1eeda",children:Object(b.jsx)(i.f,{color:"primary",variant:"outline",onClick:function(){e.push("/templates/".concat(t.id),t)},children:Object(b.jsx)(O.a,{name:"cil-pencil"})})})})}}}),Object(b.jsx)(i.pb,{size:"sm",activePage:u,onActivePageChange:function(t){c!==t&&e.push("/templates/list?page=".concat(t)),d(t)},align:"center"})]})})},x=[{url:"/list",tabName:"Danh s\xe1ch m\u1eabu ti\xeau ch\xed",component:Object(b.jsx)(p,{})},{url:"/setting",tabName:"C\xe0i \u0111\u1eb7t m\u1eabu ti\xeau ch\xed",component:Object(b.jsx)(h,{})}];t.default=function(){var e=Object(a.g)(),t=Object(a.h)().pathname.split("/").pop(),c=Object(s.useState)(["templates","list"].includes(t)?0:1),r=Object(n.a)(c,2),j=r[0],o=r[1],u=Object(l.b)([l.a.EDUCATION_STAFF]);return Object(s.useEffect)((function(){e.push("/templates".concat(u||0!==j?x[j].url:"/setting"))}),[j]),Object(b.jsx)(i.j,{children:Object(b.jsx)(i.k,{children:Object(b.jsxs)(i.Fb,{activeTab:j,onActiveTabChange:o,children:[u&&Object(b.jsxs)(i.tb,{children:[Object(b.jsx)(i.u,{children:Object(b.jsx)(i.ib,{variant:"tabs",children:x.map((function(e){return Object(b.jsx)(i.jb,{children:Object(b.jsx)(i.kb,{children:e.tabName})},e.tabName)}))})}),Object(b.jsx)(i.u,{sm:"7",className:"d-none d-md-block",children:Object(b.jsx)(i.f,{color:"primary",className:"float-right",onClick:function(){e.push("/templates/create")},children:"Th\xeam m\u1eabu m\u1edbi"})})]}),Object(b.jsx)(i.Db,{children:x.map((function(e,t){return Object(b.jsx)(i.Eb,{children:t===j&&e.component},t)}))})]})})})}}}]);
//# sourceMappingURL=56.be32b7c5.chunk.js.map