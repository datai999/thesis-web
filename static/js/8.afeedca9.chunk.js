(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[8],{719:function(e,t,c){"use strict";var i=c(59),n=c(48),r=(c(1),c(26)),a=c(13);t.a=function(e){var t=e.user,c=e.remove,o=Object(r.g)();return t?Object(a.jsx)(n.Qb,{color:"info",iconPadding:!1,className:"mb-0",header:Object(a.jsxs)("tr",{class:"d-flex justify-content-between",children:[Object(a.jsx)(n.Mb,{content:"Xem chi ti\u1ebft th\xf4ng tin v\u1ec1 ".concat(t.lastName),children:Object(a.jsx)(n.ab,{onClick:function(){o.push("/users/".concat(t.id))},children:Object(a.jsxs)("td",{children:["".concat(t.degreeName," m\xe3 s\u1ed1 ").concat(t.code),Object(a.jsx)("br",{}),"".concat(t.firstName," ").concat(t.lastName)]})})}),c&&Object(a.jsx)(n.Mb,{content:"X\xf3a",children:Object(a.jsx)(n.ab,{style:{right:5,position:"absolute"},onClick:c,children:Object(a.jsx)(i.a,{name:"cil-x-circle"})})})]}),text:Object(a.jsx)("small",{children:t.email}),children:Object(a.jsx)(i.a,{width:24,name:"cil-user"})}):null}},724:function(e,t,c){"use strict";var i=c(193),n=c(46),r=c(192),a=c(59),o=c(48),s=c(1),l=c(741),d=c(13),j=["criterion","deep","edit","updateCriterion","removeCriterion"];t.a=function e(t){var c,b,u,h,m,O=t.criterion,x=void 0===O?{children:[]}:O,v=t.deep,p=t.edit,f=t.updateCriterion,g=void 0===f?function(){}:f,k=t.removeCriterion,C=void 0===k?function(){}:k,N=Object(r.a)(t,j),w=null===(c=N.scores)||void 0===c?void 0:c.find((function(e){return e.criterion.id.toString()===x.id.toString()})),y=function(e){return g(Object(n.a)(Object(n.a)({},x),{},{children:e}))},S=function(t,c){return Object(s.createElement)(e,Object(n.a)(Object(n.a)({},N),{},{key:t.id,criterion:t,deep:v+1,edit:p,updateCriterion:function(e){return function(e,t){var c=Object(i.a)(x.children);c[e]=t,y(c)}(c,e)},removeCriterion:function(){return function(e){var t=Object(i.a)(x.children);t.splice(e,1),y(t)}(c)}}))};return Object(d.jsxs)(o.J,{className:"".concat(v>0?"ml-4 mt-".concat(4-v):""),children:[Object(d.jsxs)(o.K,{row:!0,className:"pl-0 ml-0 mb-0",children:[Object(d.jsx)(o.u,{className:"pl-0 pr-1",children:p&&v>0?Object(d.jsx)(o.Gb,{rows:parseInt((null===(b=x.description)||void 0===b?void 0:b.length)/130)+1,value:x.description,onChange:function(e){return g(Object(n.a)(Object(n.a)({},x),{},{description:e.target.value}))}}):Object(d.jsx)(d.Fragment,{children:v>0?x.description:null})}),p&&Object(d.jsx)(o.u,{md:"0",children:Object(d.jsxs)(o.z,{children:[Object(d.jsx)(o.Mb,{content:"Gi\u1eef v\xe0 k\xe9o \u0111\u1ec3 thay \u0111\u1ed5i th\u1ee9 t\u1ef1",children:Object(d.jsx)(o.E,{size:"sm",color:"primary",variant:"outline",split:!0,children:Object(d.jsx)(a.a,{name:"cil-cursor-move"})})}),Object(d.jsxs)(o.D,{children:[Object(d.jsx)(o.C,{onClick:function(){var e=Object(n.a)({},x);e.children=[].concat(Object(i.a)(x.children),[{parentId:x.id,children:[]}]),g(e)},children:"Th\xeam ti\xeau ch\xed con"}),v>0&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(o.C,{onClick:function(){g(Object(n.a)(Object(n.a)({},x),{},{mark:!x.mark}))},children:x.mark?"H\u1ee7y ch\u1ea5m \u0111i\u1ec3m":"Ch\u1ea5m \u0111i\u1ec3m ti\xeau ch\xed"}),Object(d.jsx)(o.C,{onClick:C,children:"X\xf3a ti\xeau ch\xed"})]})]})]})})]}),x.children&&x.children.length>0&&(p?Object(d.jsx)(l.ReactSortable,{list:null===x||void 0===x?void 0:x.children,setList:y,children:null===x||void 0===x||null===(u=x.children)||void 0===u?void 0:u.map(S)}):null===x||void 0===x||null===(h=x.children)||void 0===h?void 0:h.map(S)),x.mark&&Object(d.jsxs)(o.K,{row:!0,className:"m-0 ml-2",children:[Object(d.jsx)(o.u,{className:"p-0",style:{maxWidth:60},children:Object(d.jsx)(o.P,{size:"sm",placeholder:"\u0110i\u1ec3m",value:null===w||void 0===w?void 0:w.score,disabled:N.disableMark,onChange:function(e){return N.updateScore(Object(n.a)(Object(n.a)({},w),{},{criterion:{id:x.id},score:e.target.value}))}})}),Object(d.jsx)(o.u,{className:"p-0",children:Object(d.jsx)(o.Gb,{size:"sm",rows:1,placeholder:"B\xecnh lu\u1eadn cho: ".concat(null===(m=x.description)||void 0===m?void 0:m.slice(0,150)),value:null===w||void 0===w?void 0:w.comment,disabled:N.disableMark,onChange:function(e){return N.updateScore(Object(n.a)(Object(n.a)({},w),{},{criterion:{id:x.id},comment:e.target.value}))}})}),p&&Object(d.jsx)(o.u,{md:"0",children:Object(d.jsx)(o.Mb,{content:"B\u1ecf ch\u1ea5m \u0111i\u1ec3m ti\xeau ch\xed",children:Object(d.jsx)(o.f,{size:"sm",color:"primary",variant:"ghost",onClick:function(){g(Object(n.a)(Object(n.a)({},x),{},{mark:!1}))},children:Object(d.jsx)(a.a,{name:"cil-trash"})})})})]})]})}},738:function(e,t,c){"use strict";var i=c(48),n=(c(1),c(26)),r=c(13);t.a=function(e){var t=e.council,c=void 0===t?{}:t,a=Object(n.g)();return Object(r.jsx)(i.Qb,{color:"info",iconPadding:!1,className:"mb-0",header:Object(r.jsx)(i.Mb,{content:"Xem chi ti\u1ebft h\u1ed9i \u0111\u1ed3ng m\xe3 s\u1ed1 ".concat(c.id),children:Object(r.jsxs)(i.ab,{onClick:function(){a.push("/councils/detail/".concat(c.id))},children:["".concat(c.subjectDepartmentName),Object(r.jsx)("br",{}),"".concat(c.reserveDate,": ").concat(c.startTime," - ").concat(c.endTime)]})}),text:c.location&&Object(r.jsx)("small",{children:"".concat(c.location.slice(0,300)+(c.location.length>300?"...":""))}),children:c.id})}},739:function(e,t,c){"use strict";var i=c(48),n=(c(1),c(26)),r=c(13);t.a=function(e){var t,c,a=e.topic,o=Object(n.g)();return Object(r.jsx)(i.Qb,{color:"info",iconPadding:!1,className:"mb-0",header:Object(r.jsx)(i.Mb,{content:"Xem chi ti\u1ebft \u0111\u1ec1 t\xe0i m\xe3 s\u1ed1 ".concat(a.id),children:Object(r.jsxs)(i.ab,{onClick:function(){o.push("/topics/".concat(a.id))},children:["".concat(null===(t=a.name)||void 0===t?void 0:t.vi),Object(r.jsx)("br",{}),"".concat(null===(c=a.name)||void 0===c?void 0:c.en)]})}),text:a.description&&Object(r.jsx)("small",{children:"".concat(a.description.slice(0,300)+(a.description.length>300?"...":""))}),children:a.id})}},740:function(e,t,c){"use strict";var i=c(193),n=c(46),r=c(135),a=c(59),o=c(48),s=c(1),l=c(724),d=c(77),j=c(107),b=c(108),u=c(13);t.a=function(e){var t,c,h=e.settingTemplate,m=e.topicId,O=e.studentId,x=e.teacherId,v=e.disableMark,p=void 0!==v&&v,f={settingTemplate:{id:h.id},topic:{id:m},teacher:{id:null!==x&&void 0!==x?x:j.a.user.id},student:{id:O}},g=Object(s.useState)([]),k=Object(r.a)(g,2),C=k[0],N=k[1];return Object(s.useEffect)((function(){d.a.post("/scores/example",f).then(N)}),[]),Object(u.jsxs)(o.j,{children:[Object(u.jsx)(o.n,{children:null===(t=h.template)||void 0===t?void 0:t.description}),Object(u.jsx)(o.k,{className:"pl-0 mr-3",children:Object(u.jsx)(l.a,{criterion:null===(c=h.template)||void 0===c?void 0:c.rootCriterion,deep:0,scores:C,updateScore:function(e){e=Object(n.a)(Object(n.a)({},e),f);var t=C.findIndex((function(t){return t.criterion.id===e.criterion.id}));if(t<0)N([].concat(Object(i.a)(C),[e]));else{var c=C.slice();c[t]=e,N(c)}},disableMark:p})}),!p&&Object(u.jsx)(o.l,{children:Object(u.jsxs)(o.f,{size:"sm",color:"primary",onClick:function(){d.a.post("/scores/all",{entities:C}).then((function(){b.a.success("Ch\u1ea5m \u0111i\u1ec3m th\xe0nh c\xf4ng")}))},children:[Object(u.jsx)(a.a,{name:"cil-save"})," L\u01b0u"]})})]})}},785:function(e,t,c){"use strict";c.r(t);var i=c(135),n=c(48),r=c(1),a=c(719),o=c(738),s=c(739),l=c(77),d=c(740),j=c(13);t.default=function(){var e=new URL(window.location.href).searchParams,t=window.location.pathname.match(/my\/topics\/([0-9]+)\/mark/,"")[1],c=Object(r.useState)(0),b=Object(i.a)(c,2),u=b[0],h=b[1],m=Object(r.useState)([]),O=Object(i.a)(m,2),x=O[0],v=O[1],p=Object(r.useState)({}),f=Object(i.a)(p,2),g=f[0],k=f[1],C=Object(r.useState)({}),N=Object(i.a)(C,2),w=N[0],y=N[1];return Object(r.useEffect)((function(){l.a.get("/setting-templates/topic",{params:{topicId:t,role:e.get("role")}}).then((function(e){v(e)})),l.a.get("/topics/detail/".concat(t)).then((function(t){k(t);var c=t.students.find((function(t){return t.code==e.get("student")}));y(c)}))}),[]),Object(j.jsxs)(n.j,{children:[Object(j.jsx)(n.n,{className:"pb-2",children:Object(j.jsxs)(n.tb,{class:"d-flex justify-content-center",children:["council"===e.get("role")&&Object(j.jsx)(n.u,{md:"4",children:Object(j.jsx)(o.a,{council:g.council})}),Object(j.jsx)(n.u,{md:"4",children:Object(j.jsx)(s.a,{topic:g})}),Object(j.jsx)(n.u,{md:"4",children:Object(j.jsx)(a.a,{user:w})})]})}),Object(j.jsx)(n.k,{children:Object(j.jsxs)(n.Fb,{activeTab:u,onActiveTabChange:h,children:[Object(j.jsx)(n.ib,{variant:"tabs",children:x.map((function(e){var t;return Object(j.jsx)(n.jb,{children:Object(j.jsx)(n.kb,{children:null===(t=e.template)||void 0===t?void 0:t.name})},e.id)}))}),Object(j.jsx)(n.Db,{children:x.map((function(e,c){return Object(j.jsx)(n.Eb,{children:c===u&&Object(j.jsx)(d.a,{settingTemplate:e,topicId:t,studentId:w.id})})}))})]})})]})}}}]);
//# sourceMappingURL=8.afeedca9.chunk.js.map