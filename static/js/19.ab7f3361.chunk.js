(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[19],{742:function(e,t,c){"use strict";var n=c(135),i=c(48),r=c(1),a=c(26),s=c(107),l=c(717),o=c(13),b=s.a.subjectDepartments.map((function(e){return{id:e.id,tabName:e.name}}));t.a=function(e){var t,c=e.URL,j=e.InnerComponent,u=Object(a.g)(),d=Object(a.h)(),m=s.a.user.permissions.includes(l.a.HEAD_SUBJECT_DEPARTMENT),h=m?null===(t=s.a.user.subjectDepartment)||void 0===t?void 0:t.id:d.pathname.split("/").pop(),O=b.findIndex((function(e){return e.id.toString()===(null===h||void 0===h?void 0:h.toString())})),p=Object(r.useState)(O<0?0:O),f=Object(n.a)(p,2),x=f[0],v=f[1];return Object(r.useEffect)((function(){m&&u.push("".concat(c,"/").concat(s.a.user.subjectDepartment.id))}),[]),Object(r.useEffect)((function(){u.push("".concat(c,"/").concat(b[x].id))}),[x]),Object(o.jsx)(i.j,{children:Object(o.jsx)(i.k,{children:Object(o.jsxs)(i.Fb,{activeTab:x,onActiveTabChange:v,children:[Object(o.jsx)(i.ib,{variant:"tabs",children:b.map((function(e){return Object(o.jsx)(i.jb,{children:Object(o.jsx)(i.kb,{children:e.tabName})},e.id)}))}),Object(o.jsx)(i.Db,{children:b.map((function(e,t){return Object(o.jsx)(i.Eb,{children:t===x&&Object(o.jsx)(j,{subjectDepartmentId:e.id})})}))})]})})})}},790:function(e,t,c){"use strict";c.r(t);var n=c(135),i=c(59),r=c(48),a=c(718),s=c.n(a),l=c(1),o=c(26),b=c(742),j=c(77),u=c(107),d=c(717),m=c(13),h=[{key:"id",label:"M\xe3",_style:{width:1}},{key:"semesterName",label:"H\u1ecdc k\u1ef3",_style:{width:90}},{key:"time",label:"Th\u1eddi gian",_style:{width:140}},{key:"location",label:"\u0110\u1ecba \u0111i\u1ec3m",_style:{width:"15%"}},{key:"members",label:"Th\xe0nh vi\xean",sorter:!1},{key:"note",label:"Ghi ch\xfa"},{key:"actions",label:"",_style:{width:1},sorter:!1,filter:!1}],O=[{key:"role",label:"Vai tr\xf2"},{key:"code",label:"M\xe3 s\u1ed1"},{key:"degree",label:"H\u1ecdc v\u1ecb"},{key:"name",label:"H\u1ecd t\xean v\xe0 email"}],p=function(e){var t,c=e.subjectDepartmentId,a=Object(o.g)(),b=Object(o.h)().search.match(/page=([0-9]+)/,""),p=Number(b&&b[1]?b[1]:1),x=Object(l.useState)(p),v=Object(n.a)(x,2),g=v[0],y=v[1],N=Object(l.useState)([]),k=Object(n.a)(N,2),D=k[0],T=k[1],E=Object(d.b)([d.a.HEAD_SUBJECT_DEPARTMENT])&&(null===(t=u.a.user.subjectDepartment)||void 0===t?void 0:t.id)===c,S=E||Object(d.b)([d.a.ADMIN]),C=E||Object(d.b)([d.a.EDUCATION_STAFF,d.a.ADMIN]);return Object(l.useEffect)((function(){j.a.post("/councils/example",{subjectDepartment:c},{params:{direction:"DESC"}}).then(T)}),[]),Object(m.jsxs)(r.j,{children:[Object(m.jsx)(r.n,{children:Object(m.jsxs)(r.tb,{children:[Object(m.jsx)(r.u,{sm:"5",children:Object(m.jsx)("h5",{className:"card-title mb-0",children:"Danh s\xe1ch h\u1ed9i \u0111\u1ed3ng"})}),S&&Object(m.jsx)(r.u,{sm:"7",className:"d-none d-md-block",children:Object(m.jsx)(r.f,{color:"primary",className:"float-right",onClick:function(){a.push("/councils/".concat(c,"/create"))},children:"T\u1ea1o h\u1ed9i \u0111\u1ed3ng m\u1edbi"})})]})}),Object(m.jsx)(r.y,{items:D,fields:h,hover:!0,sorter:!0,columnFilter:!0,tableFilter:!0,itemsPerPageSelect:!0,itemsPerPage:5,activePage:g,scopedSlots:{time:function(e){return Object(m.jsxs)("td",{children:[Object(m.jsxs)("div",{children:["Ng\xe0y",Object(m.jsx)("div",{className:"float-right",children:e.reserveDate})]}),Object(m.jsxs)("div",{children:["B\u1eaft \u0111\u1ea7u",Object(m.jsx)("div",{className:"float-right",children:e.startTime})]}),Object(m.jsxs)("div",{children:["K\u1ebft th\xfac",Object(m.jsx)("div",{className:"float-right",children:e.endTime})]})]})},members:function(e){return Object(m.jsx)("td",{className:"p-0",children:Object(m.jsx)(r.y,{items:Object.entries(s.a.groupBy(e.members,(function(e){return e.role.name}))).sort((function(e,t){return e[1][0].role.displayOrder-t[1][0].role.displayOrder})),fields:O,size:"sm",scopedSlots:{role:function(e){return Object(m.jsx)(m.Fragment,{children:e[0]})},code:function(e){return f(e[1].map((function(e){return e.member.code})))},degree:function(e){return f(e[1].map((function(e){return e.member.degreeName})))},name:function(e){return f(e[1].map((function(e){return e.member})).map((function(e){return Object(m.jsxs)("div",{children:[e.firstName," ",e.lastName," ",Object(m.jsx)(r.Mb,{content:e.email,children:Object(m.jsx)(i.a,{name:"cil-envelope-closed",className:"mb-2"})})]})})))}}})})},actions:function(e){return Object(m.jsx)("td",{className:"py-2",children:C&&Object(m.jsx)(r.g,{vertical:!0,size:"sm",children:Object(m.jsx)(r.Mb,{content:"Ch\u1ec9nh s\u1eeda",children:Object(m.jsx)(r.f,{color:"primary",variant:"outline",onClick:function(){a.push("/councils/".concat(c,"/edit/").concat(e.id),e)},children:Object(m.jsx)(i.a,{name:"cil-pencil"})})})})})}}}),Object(m.jsx)(r.pb,{size:"sm",activePage:g,onActivePageChange:function(e){p!==e&&a.push("/councils/".concat(c,"?page=").concat(e)),y(e)},align:"center"})]})},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(m.jsx)("td",{children:e&&e.map((function(e){return Object(m.jsx)("div",{children:e})}))})};t.default=function(){return Object(m.jsx)(b.a,{URL:"/councils",InnerComponent:p})}}}]);
//# sourceMappingURL=19.ab7f3361.chunk.js.map