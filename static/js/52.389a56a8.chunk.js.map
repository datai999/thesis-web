{"version":3,"sources":["pages/dashboard/Dashboard.js"],"names":["MainComponent","useState","Date","date","setDate","data","setData","handleData","currentSemester","items","title","registerTopicStart","cardTitle","cardDetailedText","registerTopicEnd","topicStart","topicEnd","thesisStart","thesisEnd","toLocaleString","sort","a","b","dateA","dateB","map","e","replace","useEffect","api","get","then","timerID","setInterval","clearInterval","className","class","contextHolder","user","fullName","md","mode","slideShow","disableNavOnKey","hideControls","allowDynamicUpdate","useReadMore","cardHeight","flipLayout"],"mappings":"kPAyGeA,UAnGO,WAAO,IAAD,EAC1B,EAAwBC,mBAAS,IAAIC,MAArC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAAwBH,mBAAS,IAAjC,mBAAOI,EAAP,KAAaC,EAAb,KAEMC,EAAa,SAACC,GAClB,IAsCMC,EAtCY,CAChB,CACEC,MAAOF,EAAgBG,mBACvBC,UAAW,kEACXC,iBAAkB,gFAEpB,CACEH,MAAOF,EAAgBM,iBACvBF,UAAW,4DACXC,iBACE,qGAEJ,CACEH,MAAOF,EAAgBO,WACvBH,UAAW,0EACXC,iBAAkB,wFAEpB,CACEH,MAAOF,EAAgBQ,SACvBJ,UAAW,oEACXC,iBAAkB,kFAEpB,CACEH,MAAOF,EAAgBS,YACvBL,UAAW,gEACXC,iBAAkB,8EAEpB,CACEH,MAAOF,EAAgBU,UACvBN,UAAW,0DACXC,iBAAkB,wEAEpB,CACEH,OAAO,IAAIR,MAAOiB,iBAClBP,UAAW,uBAKZQ,MAAK,SAACC,EAAGC,GACR,IAAIC,EAAQ,IAAIrB,KAAKmB,EAAEX,OACrBc,EAAQ,IAAItB,KAAKoB,EAAEZ,OACrB,OAAIa,EAAQC,GAAe,EACvBD,EAAQC,EAAc,EACnB,KAERC,KAAI,SAACC,GAMJ,OALAA,EAAEhB,MAAQ,IAAIR,KAAKwB,EAAEhB,OAClBS,eAAe,SACfQ,QAAQ,IAAK,IACbA,QAAQ,UAAW,IACtBD,EAAEhB,MAAQ,gCAAQgB,EAAEhB,QACbgB,KAGXpB,EAAQG,IAYV,OATAmB,qBAAU,WACRC,IAAIC,IAAJ,sBAA8BC,KAAKxB,KAClC,IAEHqB,qBAAU,WACR,IAAII,EAAUC,aAAY,kBAAM7B,EAAQ,IAAIF,QAAS,KACrD,OAAO,kBAAMgC,cAAcF,OAI3B,cAAC,IAAD,UACE,eAAC,KAAD,WACE,eAAC,IAAD,CAAMG,UAAU,eAAhB,UACE,qBAAIC,MAAM,gCAAV,yBACW,iDAAUC,IAAcC,YAAxB,aAAU,EAAoBC,eAEzC,oBAAIH,MAAM,gCAAV,SAA2CjC,EAAKgB,sBAElD,cAAC,IAAD,CAAMqB,GAAG,IAAT,SACE,cAAC,IAAD,CACE/B,MAAOJ,EACPoC,KAAK,WACLC,WAAS,EACTC,iBAAe,EACfC,cAAY,EACZC,oBAAoB,EACpBC,aAAa,EACbC,WAAY,EACZC,YAAY","file":"static/js/52.389a56a8.chunk.js","sourcesContent":["import { CCard, CCol, CRow } from \"@coreui/react\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Chrono } from \"react-chrono\";\r\nimport api from \"src/service/api\";\r\nimport contextHolder from \"src/service/contextService\";\r\n\r\nconst MainComponent = () => {\r\n  const [date, setDate] = useState(new Date());\r\n  const [data, setData] = useState([]);\r\n\r\n  const handleData = (currentSemester) => {\r\n    const baseItems = [\r\n      {\r\n        title: currentSemester.registerTopicStart,\r\n        cardTitle: \"Bắt đầu đăng ký đề tài\",\r\n        cardDetailedText: \"Sinh viên bắt đầu đăng ký đề tài\",\r\n      },\r\n      {\r\n        title: currentSemester.registerTopicEnd,\r\n        cardTitle: \"Kết thúc đăng ký đề tài\",\r\n        cardDetailedText:\r\n          \"Kết thúc thời gian cho phép sinh viên đăng ký đề tài\",\r\n      },\r\n      {\r\n        title: currentSemester.topicStart,\r\n        cardTitle: \"Bắt đầu hiện thực đề cương\",\r\n        cardDetailedText: \"Sinh viên bắt đầu hiện thực đề cương\",\r\n      },\r\n      {\r\n        title: currentSemester.topicEnd,\r\n        cardTitle: \"Kết thúc hiện thực đề cương\",\r\n        cardDetailedText: \"Sinh viên kết thúc hiện thực đề cương\",\r\n      },\r\n      {\r\n        title: currentSemester.thesisStart,\r\n        cardTitle: \"Bắt đầu hiện thực luận văn\",\r\n        cardDetailedText: \"Sinh viên bắt đầu hiện thực luận văn\",\r\n      },\r\n      {\r\n        title: currentSemester.thesisEnd,\r\n        cardTitle: \"Kết thúc hiện thực luận văn\",\r\n        cardDetailedText: \"Sinh viên kết thúc hiện thực luận văn\",\r\n      },\r\n      {\r\n        title: new Date().toLocaleString(),\r\n        cardTitle: \"Hiện tại\",\r\n      },\r\n    ];\r\n\r\n    const items = baseItems\r\n      .sort((a, b) => {\r\n        let dateA = new Date(a.title),\r\n          dateB = new Date(b.title);\r\n        if (dateA < dateB) return -1;\r\n        if (dateA > dateB) return 1;\r\n        return 0;\r\n      })\r\n      .map((e) => {\r\n        e.title = new Date(e.title)\r\n          .toLocaleString(\"en-GB\")\r\n          .replace(/,/, \"\")\r\n          .replace(/:\\d{2}$/, \"\");\r\n        e.title = <small>{e.title}</small>;\r\n        return e;\r\n      });\r\n\r\n    setData(items);\r\n  };\r\n\r\n  useEffect(() => {\r\n    api.get(`/semesters/current`).then(handleData);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    var timerID = setInterval(() => setDate(new Date()), 1000);\r\n    return () => clearInterval(timerID);\r\n  });\r\n\r\n  return (\r\n    <CCard>\r\n      <CRow>\r\n        <CCol className=\"mt-3 mt-md-5\">\r\n          <h3 class=\"d-flex justify-content-center\">\r\n            Xin chào,<strong> {contextHolder.user?.fullName}</strong>\r\n          </h3>\r\n          <h4 class=\"d-flex justify-content-center\">{date.toLocaleString()}</h4>\r\n        </CCol>\r\n        <CCol md=\"6\">\r\n          <Chrono\r\n            items={data}\r\n            mode=\"VERTICAL\"\r\n            slideShow\r\n            disableNavOnKey\r\n            hideControls\r\n            allowDynamicUpdate={true}\r\n            useReadMore={false}\r\n            cardHeight={1}\r\n            flipLayout={false}\r\n          />\r\n        </CCol>\r\n      </CRow>\r\n    </CCard>\r\n  );\r\n};\r\n\r\nexport default MainComponent;\r\n"],"sourceRoot":""}