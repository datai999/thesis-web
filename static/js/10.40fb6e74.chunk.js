(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[10],{720:function(e,t,c){"use strict";var n=c(135),i=c(48),a=c(1),s=c(77),r=c(13),o=[{key:"code",label:"M\xe3 s\u1ed1",_style:{width:"10%"}},{key:"firstName",label:"H\u1ecd"},{key:"lastName",label:"T\xean",_style:{width:"10%"}},{key:"subjectDepartmentName",label:"B\u1ed9 m\xf4n"},{key:"degreeName",label:"H\u1ecdc v\u1ecb"},{key:"email",label:"Email:@hcmut.edu.vn"}];t.a=function(e){var t=e.view,c=e.disableView,l=e.selected,j=Object(a.useState)(1),b=Object(n.a)(j,2),u=b[0],d=b[1],h=Object(a.useState)([]),m=Object(n.a)(h,2),O=m[0],f=m[1];return Object(a.useEffect)((function(){s.a.get("/users/type-teacher",{params:{direction:"DESC"}}).then(f)}),[u]),Object(r.jsxs)(i.db,{color:"info",size:"lg",show:t,onClose:c,children:[Object(r.jsx)(i.gb,{closeButton:!0,children:Object(r.jsx)(i.hb,{children:"T\xecm ki\u1ebfm gi\xe1o vi\xean"})}),Object(r.jsxs)(i.eb,{children:[Object(r.jsx)(i.y,{items:O,fields:o,sorter:!0,hover:!0,striped:!0,columnFilter:!0,itemsPerPage:5,activePage:u,clickableRows:!0,onRowClick:l}),Object(r.jsx)(i.pb,{activePage:u,onActivePageChange:function(e){u!==e&&d(e)},align:"center"})]}),Object(r.jsx)(i.fb,{children:Object(r.jsx)(i.f,{color:"secondary",onClick:c,children:"Quay v\u1ec1"})})]})}},742:function(e,t,c){"use strict";var n=c(135),i=c(48),a=c(1),s=c(26),r=c(107),o=c(717),l=c(13),j=r.a.subjectDepartments.map((function(e){return{id:e.id,tabName:e.name}}));t.a=function(e){var t,c=e.URL,b=e.InnerComponent,u=Object(s.g)(),d=Object(s.h)(),h=r.a.user.permissions.includes(o.a.HEAD_SUBJECT_DEPARTMENT),m=h?null===(t=r.a.user.subjectDepartment)||void 0===t?void 0:t.id:d.pathname.split("/").pop(),O=j.findIndex((function(e){return e.id.toString()===(null===m||void 0===m?void 0:m.toString())})),f=Object(a.useState)(O<0?0:O),x=Object(n.a)(f,2),v=x[0],p=x[1];return Object(a.useEffect)((function(){h&&u.push("".concat(c,"/").concat(r.a.user.subjectDepartment.id))}),[]),Object(a.useEffect)((function(){u.push("".concat(c,"/").concat(j[v].id))}),[v]),Object(l.jsx)(i.j,{children:Object(l.jsx)(i.k,{children:Object(l.jsxs)(i.Fb,{activeTab:v,onActiveTabChange:p,children:[Object(l.jsx)(i.ib,{variant:"tabs",children:j.map((function(e){return Object(l.jsx)(i.jb,{children:Object(l.jsx)(i.kb,{children:e.tabName})},e.id)}))}),Object(l.jsx)(i.Db,{children:j.map((function(e,t){return Object(l.jsx)(i.Eb,{children:t===v&&Object(l.jsx)(b,{subjectDepartmentId:e.id})})}))})]})})})}},804:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c(742),a=c(47),s=c.n(a),r=c(65),o=c(193),l=c(135),j=c(59),b=c(48),u=c(718),d=c.n(u),h=c(26),m=c(720),O=c(77),f=c(107),x=c(717),v=c(13),p=[{key:"id",label:"M\xe3",_style:{width:"1%"}},{key:"names",label:"T\xean \u0111\u1ec1 t\xe0i",_style:{width:"30%"}},{key:"semester",label:"H\u1ecdc k\u1ef3",_style:{width:"1%"}},{key:"educationMethodNames",label:"Ph\u01b0\u01a1ng th\u1ee9c",_style:{width:"12%"}},{key:"majorNames",label:"Ng\xe0nh",_style:{width:"10%"}},{key:"guideTeacherRenders",label:"Gi\xe1o vi\xean h\u01b0\u1edbng d\u1eabn",_style:{width:"20%"}},{key:"reviewTeacherRenders",label:"Gi\xe1o vi\xean ph\u1ea3n bi\u1ec7n",_style:{width:"20%"}},{key:"actions",label:"",_style:{width:1},sorter:!1,filter:!1}],g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(v.jsx)("td",{children:e&&e.map((function(e){return Object(v.jsx)("div",{children:e})}))})},w=function(e){var t,c=e.subjectDepartmentId,i=Object(h.g)(),a=Object(h.h)().search.match(/page=([0-9]+)/,""),u=Number(a&&a[1]?a[1]:1),w=Object(n.useState)(u),y=Object(l.a)(w,2),N=y[0],k=y[1],T=Object(n.useState)([]),C=Object(l.a)(T,2),S=C[0],D=C[1],E=Object(n.useState)([]),M=Object(l.a)(E,2),P=M[0],_=M[1],R=Object(n.useState)(!1),A=Object(l.a)(R,2),I=A[0],z=A[1],F=Object(n.useState)(-1),H=Object(l.a)(F,2),B=H[0],J=H[1],U=Object(x.b)([x.a.HEAD_SUBJECT_DEPARTMENT])&&(null===(t=f.a.user.subjectDepartment)||void 0===t?void 0:t.id)===c||Object(x.b)([x.a.ADMIN]),L=function(e){var t=P.indexOf(e),c=P.slice();-1!==t?c.splice(t,1):c=[].concat(Object(o.a)(P),[e]),_(c)},G=function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.a.post("/topics/example",{subjectDepartment:c},{params:{direction:"DESC"}}).then((function(e){e.forEach((function(e){e.guideTeacherRenders=e.guideTeachers.map((function(e){return"".concat(e.code," ").concat(e.firstName," ").concat(e.lastName," ").concat(e.email).toString()})),e.reviewTeacherRenders=e.reviewTeachers.map((function(e){return"".concat(e.code," ").concat(e.firstName," ").concat(e.lastName," ").concat(e.email).toString()}))})),D(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){G()}),[N]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(m.a,{view:I,disableView:function(){return z(!1)},selected:function(e){z(!1),function(e){var t=d.a.cloneDeep(S);t[B].reviewTeachers=[].concat(Object(o.a)(S[B].reviewTeachers),[e]),D(t)}(e)}}),Object(v.jsx)(b.y,{items:S,fields:p,hover:!0,sorter:!0,columnFilter:!0,tableFilter:!0,itemsPerPageSelect:!0,itemsPerPage:5,activePage:N,scopedSlots:{names:function(e){return g(e.names)},educationMethodNames:function(e){return g(e.educationMethodNames)},majorNames:function(e){return g(e.majorNames)},guideTeacherRenders:function(e){return g(e.guideTeachers.map((function(e){return Object(v.jsxs)("div",{children:[e.code," ",e.firstName," ",e.lastName," ",Object(v.jsx)(b.Mb,{content:e.email,children:Object(v.jsx)(j.a,{name:"cil-envelope-closed",className:"mb-2"})})]})})))},reviewTeacherRenders:function(e,t){return Object(v.jsx)("td",{children:e.reviewTeachers.map((function(e){return Object(v.jsxs)("div",{children:[e.code," ",e.firstName," ",e.lastName," ",Object(v.jsx)(b.Mb,{content:e.email,children:Object(v.jsx)(j.a,{name:"cil-envelope-closed",className:"mb-2"})}),B===t&&Object(v.jsx)(b.Mb,{content:"X\xf3a gi\xe1o vi\xean",children:Object(v.jsx)(b.f,{color:"primary",variant:"ghost",size:"sm",className:"mb-2",onClick:function(){!function(e){var t=S[B].reviewTeachers.filter((function(t){return t.id!==e.id})),c=d.a.cloneDeep(S);c[B].reviewTeachers=t,D(c)}(e)},children:Object(v.jsx)(j.a,{name:"cil-user-unfollow",className:"text-danger"})})})]})}))})},actions:function(e,t){return Object(v.jsx)("td",{className:"py-2",children:B===t?Object(v.jsxs)(b.g,{vertical:!0,size:"sm",children:[Object(v.jsx)(b.Mb,{content:"Th\xeam gi\xe1o vi\xean ph\u1ea3n bi\u1ec7n",children:Object(v.jsx)(b.f,{color:"primary",variant:"outline",onClick:function(){z(!0)},children:Object(v.jsx)(j.a,{name:"cil-user-follow",className:"text-success"})})}),Object(v.jsx)(b.Mb,{content:"L\u01b0u",children:Object(v.jsx)(b.f,{color:"primary",variant:"outline",onClick:function(){var t;t=e,O.a.put("/topics/".concat(t.id,"/assign-reviews"),t).then((function(){G(),J(-1)}))},children:Object(v.jsx)(j.a,{name:"cil-save"})})})]}):Object(v.jsxs)(b.g,{vertical:!0,size:"sm",children:[U&&Object(v.jsx)(b.Mb,{content:"Ch\u1ec9nh s\u1eeda",children:Object(v.jsx)(b.f,{color:"primary",variant:"outline",onClick:function(){P.includes(e.id)||L(e.id),J(t)},children:Object(v.jsx)(j.a,{name:"cil-pencil"})})}),Object(v.jsx)(b.Mb,{content:P.includes(e.id)?"\u1ea8n b\u1edbt":"Chi ti\u1ebft",children:Object(v.jsx)(b.f,{color:"primary",variant:"outline",onClick:function(){L(e.id)},children:Object(v.jsx)(j.a,{name:"cil-chevron-".concat(P.includes(e.id)?"top":"bottom")})})})]})})},details:function(e){return Object(v.jsx)(b.v,{show:P.includes(e.id),children:Object(v.jsx)(b.k,{children:Object(v.jsxs)(b.tb,{children:[Object(v.jsxs)(b.u,{md:"4",children:["M\xf4 t\u1ea3",Object(v.jsx)("br",{}),e.description]}),Object(v.jsxs)(b.u,{md:"5",children:["Nhi\u1ec7m v\u1ee5",Object(v.jsx)("br",{}),e.task,Object(v.jsx)("br",{}),"T\xe0i li\u1ec7u",Object(v.jsx)("br",{}),e.documentReference]}),Object(v.jsxs)(b.u,{children:["Sinh vi\xean th\u1ef1c hi\u1ec7n",Object(v.jsx)("br",{}),e.students.map((function(e){return Object(v.jsxs)(b.cb,{children:[Object(v.jsx)(b.tb,{children:Object(v.jsx)(b.u,{children:e.code})}),Object(v.jsx)(b.tb,{children:Object(v.jsxs)(b.u,{children:[e.firstName," ",e.lastName]})}),Object(v.jsx)(b.tb,{children:Object(v.jsx)(b.u,{children:e.email})})]},e)}))]})]})})})}}}),Object(v.jsx)(b.pb,{size:"sm",activePage:N,onActivePageChange:function(e){u!==e&&i.push("/assign/review/".concat(c,"?page=").concat(e)),k(e)},align:"center"})]})};t.default=function(){return Object(v.jsx)(i.a,{URL:"/assign/review",InnerComponent:w})}}}]);
//# sourceMappingURL=10.40fb6e74.chunk.js.map