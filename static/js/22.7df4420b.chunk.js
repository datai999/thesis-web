(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[22],{720:function(e,t,c){"use strict";var n=c(107),s=c(48),a=c(1),i=c(77),r=c(13),l=[{key:"code",label:"M\xe3 s\u1ed1",_style:{width:"10%"}},{key:"firstName",label:"H\u1ecd"},{key:"lastName",label:"T\xean",_style:{width:"10%"}},{key:"subjectDepartmentName",label:"B\u1ed9 m\xf4n"},{key:"degreeName",label:"H\u1ecdc v\u1ecb"},{key:"email",label:"Email:@hcmut.edu.vn"}];t.a=function(e){var t=e.view,c=e.disableView,j=e.selected,o=Object(a.useState)(1),b=Object(n.a)(o,2),h=b[0],u=b[1],d=Object(a.useState)([]),m=Object(n.a)(d,2),O=m[0],x=m[1];return Object(a.useEffect)((function(){i.a.get("/users/type-teacher",{params:{direction:"DESC"}}).then(x)}),[h]),Object(r.jsxs)(s.db,{color:"info",size:"lg",show:t,onClose:c,children:[Object(r.jsx)(s.gb,{closeButton:!0,children:Object(r.jsx)(s.hb,{children:"T\xecm ki\u1ebfm gi\xe1o vi\xean"})}),Object(r.jsxs)(s.eb,{children:[Object(r.jsx)(s.y,{items:O,fields:l,sorter:!0,hover:!0,striped:!0,columnFilter:!0,itemsPerPage:5,activePage:h,clickableRows:!0,onRowClick:j}),Object(r.jsx)(s.pb,{activePage:h,onActivePageChange:function(e){h!==e&&u(e)},align:"center"})]}),Object(r.jsx)(s.fb,{children:Object(r.jsx)(s.f,{color:"secondary",onClick:c,children:"Quay v\u1ec1"})})]})}},743:function(e,t,c){"use strict";c.r(t);var n=c(46),s=c(193),a=c(107),i=c(59),r=c(48),l=c(718),j=c.n(l),o=c(1),b=c(26),h=c(720),u=c(77),d=c(108),m=c(109),O=c(13),x=function(e){var t=e.user,c=e.remove;return Object(O.jsx)(r.Qb,{color:"info",iconPadding:!1,className:"mb-2 mx-0 px-0",header:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("tr",{class:"d-flex justify-content-between",children:[Object(O.jsx)("td",{children:"".concat(t.degreeName," m\xe3 s\u1ed1 ").concat(t.code)}),Object(O.jsx)("td",{children:Object(O.jsx)(r.Mb,{content:"X\xf3a gi\xe1o vi\xean",children:Object(O.jsx)(r.ab,{className:"card-header-action",style:{right:5,position:"absolute"},onClick:c,children:Object(O.jsx)(i.a,{name:"cil-x-circle"})})})})]}),"".concat(t.firstName," ").concat(t.lastName)]}),text:Object(O.jsx)("small",{children:"".concat(t.email)}),children:Object(O.jsx)(i.a,{width:24,name:"cil-user"})})};t.default=function(e){var t=e.location,c=Object(b.h)().pathname.match(/(?:\/councils\/)(\d+)/,"")[1],l=Object(b.g)(),f=Object(o.useState)({}),p=Object(a.a)(f,2),v=p[0],g=p[1],y=Object(o.useState)([]),k=Object(a.a)(y,2),N=k[0],w=k[1],C=Object(o.useState)(!1),P=Object(a.a)(C,2),T=P[0],D=P[1],E=Object(o.useState)(-1),S=Object(a.a)(E,2),Z=S[0],G=S[1],K=function(e,t){return{value:j.a.get(v,e),onChange:function(c){return function(e,t){var c=j.a.cloneDeep(v);j.a.set(c,e,t),g(c)}(null!==e&&void 0!==e?e:t,c.target.value)}}};return Object(o.useEffect)((function(){(null===t||void 0===t?void 0:t.state)&&g(t.state),u.a.get("/council-roles",{params:{sort:"displayOrder"}}).then((function(e){e.forEach((function(e){var c;(e.teachers=[],null===t||void 0===t?void 0:t.state)&&(null===(c=t.state.members)||void 0===c||c.forEach((function(t){t.role.id===e.id&&(e.teachers=[].concat(Object(s.a)(e.teachers),[t.member]))})))})),w(e)}))}),[]),Object(O.jsxs)(r.j,{children:[Object(O.jsx)(h.a,{view:T,setView:function(){return D(!1)},selected:function(e){D(!1);var t=!1;if(N.forEach((function(e){return e.teachers.forEach((function(e){e.id==e.id&&(t=!0)}))})),t)m.a.error("Gi\xe1o vi\xean ".concat(e.firstName," ").concat(e.lastName," \u0111\xe3 l\xe0 th\xe0nh vi\xean c\u1ee7a h\u1ed9i \u0111\u1ed3ng"));else{var c=j.a.cloneDeep(N),n=[].concat(Object(s.a)(N[Z].teachers),[e]);c[Z].teachers=n,w(c)}}}),Object(O.jsx)(r.n,{children:Object(O.jsxs)("h5",{className:"card-title mb-0",children:[v.id?"Ch\u1ec9nh s\u1eeda":"T\u1ea1o"," "," h\u1ed9i \u0111\u1ed3ng "," ",v.id]})}),Object(O.jsx)(r.k,{children:Object(O.jsx)(r.J,{children:Object(O.jsxs)(r.tb,{children:[Object(O.jsx)(r.u,{className:"mb-4",children:Object(O.jsx)(r.tb,{children:N.map((function(e,t){return Object(O.jsx)(r.u,{md:e.max>1?12:6,className:"border py-2",children:Object(O.jsxs)(r.K,{className:"mb-0",children:[Object(O.jsx)(r.Z,{children:e.name}),Object(O.jsx)("br",{}),Object(O.jsxs)(r.tb,{children:[e.teachers.map((function(c){return Object(O.jsx)(r.u,{md:e.max>1?6:12,children:Object(O.jsx)(x,{user:c,remove:function(){return function(e,t){var c=j.a.cloneDeep(N),n=N[e].teachers.filter((function(e){return e.id!==t}));c[e].teachers=n,w(c)}(t,c.id)}})},c)})),j.a.range(e.teachers.length,e.max).map((function(e){return Object(O.jsx)(r.u,{children:Object(O.jsx)(r.f,{size:"sm",type:"button",color:"primary",onClick:function(){G(t),D(!0)},children:"Th\xeam gi\xe1o vi\xean"},e)},e)}))]})]})},e.id)}))})}),Object(O.jsxs)(r.u,{children:[Object(O.jsxs)(r.K,{children:[Object(O.jsx)(r.Z,{children:"\u0110\u1ecba \u0111i\u1ec3m"}),Object(O.jsx)(r.P,Object(n.a)({placeholder:"C\u01a1 s\u1edf, t\xf2a nh\xe0, ph\xf2ng ho\u1eb7c link meet..."},K("location")))]}),Object(O.jsxs)(r.K,{row:!0,children:[Object(O.jsxs)(r.u,{children:[Object(O.jsx)(r.Z,{children:"Ng\xe0y"}),Object(O.jsx)(r.P,Object(n.a)({type:"date"},K("reserveDate")))]}),Object(O.jsxs)(r.u,{children:[Object(O.jsx)(r.Z,{children:"Th\u1eddi gian b\u1eaft \u0111\u1ea7u"}),Object(O.jsx)(r.P,Object(n.a)({type:"time"},K("startTime")))]}),Object(O.jsxs)(r.u,{children:[Object(O.jsx)(r.Z,{children:"Th\u1eddi gian k\u1ebft th\xfac"}),Object(O.jsx)(r.P,Object(n.a)({type:"time"},K("endTime")))]})]}),Object(O.jsxs)(r.K,{children:[Object(O.jsx)(r.Z,{children:"Ghi ch\xfa"}),Object(O.jsx)(r.Gb,Object(n.a)({rows:"7",placeholder:"Ghi ch\xfa..."},K("note")))]})]})]})})}),Object(O.jsx)(r.l,{children:Object(O.jsxs)(r.f,{type:"submit",color:"primary",onClick:function(){v.semester=d.a.semester,v.subjectDepartment=d.a.subjectDepartments.find((function(e){return e.id.toString()===c})),v.members=N.map((function(e){return e.teachers.map((function(t){return{role:e,member:t}}))})).flat(),v.id?u.a.patch("/councils",v).then((function(){m.a.success("C\u1eadp nh\u1eadt h\u1ed9i \u0111\u1ed3ng th\xe0nh c\xf4ng"),l.push("/councils/".concat(c))})):u.a.post("/councils",v).then((function(){m.a.success("T\u1ea1o h\u1ed9i \u0111\u1ed3ng th\xe0nh c\xf4ng"),l.push("/councils/".concat(c))}))},children:[Object(O.jsx)(i.a,{name:"cil-save"})," L\u01b0u"]})})]})}}}]);
//# sourceMappingURL=22.7df4420b.chunk.js.map