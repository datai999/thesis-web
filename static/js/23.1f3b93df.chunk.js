(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[23],{724:function(e,t,c){"use strict";var n=c(193),i=c(46),r=c(192),a=c(59),s=c(48),o=c(1),l=c(741),j=c(13),d=["criterion","deep","edit","updateCriterion","removeCriterion"];t.a=function e(t){var c,u,b,h,O,m=t.criterion,x=void 0===m?{children:[]}:m,p=t.deep,v=t.edit,f=t.updateCriterion,C=void 0===f?function(){}:f,g=t.removeCriterion,k=void 0===g?function(){}:g,y=Object(r.a)(t,d),w=null===(c=y.scores)||void 0===c?void 0:c.find((function(e){return e.criterion.id.toString()===x.id.toString()})),N=function(e){return C(Object(i.a)(Object(i.a)({},x),{},{children:e}))},S=function(t,c){return Object(o.createElement)(e,Object(i.a)(Object(i.a)({},y),{},{key:t.id,criterion:t,deep:p+1,edit:v,updateCriterion:function(e){return function(e,t){var c=Object(n.a)(x.children);c[e]=t,N(c)}(c,e)},removeCriterion:function(){return function(e){var t=Object(n.a)(x.children);t.splice(e,1),N(t)}(c)}}))};return Object(j.jsxs)(s.J,{className:"".concat(p>0?"ml-4 mt-".concat(4-p):""),children:[Object(j.jsxs)(s.K,{row:!0,className:"pl-0 ml-0 mb-0",children:[Object(j.jsx)(s.u,{className:"pl-0 pr-1",children:v&&p>0?Object(j.jsx)(s.Gb,{rows:parseInt((null===(u=x.description)||void 0===u?void 0:u.length)/130)+1,value:x.description,onChange:function(e){return C(Object(i.a)(Object(i.a)({},x),{},{description:e.target.value}))}}):Object(j.jsx)(j.Fragment,{children:p>0?x.description:null})}),v&&Object(j.jsx)(s.u,{md:"0",children:Object(j.jsxs)(s.z,{children:[Object(j.jsx)(s.Mb,{content:"Gi\u1eef v\xe0 k\xe9o \u0111\u1ec3 thay \u0111\u1ed5i th\u1ee9 t\u1ef1",children:Object(j.jsx)(s.E,{size:"sm",color:"primary",variant:"outline",split:!0,children:Object(j.jsx)(a.a,{name:"cil-cursor-move"})})}),Object(j.jsxs)(s.D,{children:[Object(j.jsx)(s.C,{onClick:function(){var e=Object(i.a)({},x);e.children=[].concat(Object(n.a)(x.children),[{parentId:x.id,children:[]}]),C(e)},children:"Th\xeam ti\xeau ch\xed con"}),p>0&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(s.C,{onClick:function(){C(Object(i.a)(Object(i.a)({},x),{},{mark:!x.mark}))},children:x.mark?"H\u1ee7y ch\u1ea5m \u0111i\u1ec3m":"Ch\u1ea5m \u0111i\u1ec3m ti\xeau ch\xed"}),Object(j.jsx)(s.C,{onClick:k,children:"X\xf3a ti\xeau ch\xed"})]})]})]})})]}),x.children&&x.children.length>0&&(v?Object(j.jsx)(l.ReactSortable,{list:null===x||void 0===x?void 0:x.children,setList:N,children:null===x||void 0===x||null===(b=x.children)||void 0===b?void 0:b.map(S)}):null===x||void 0===x||null===(h=x.children)||void 0===h?void 0:h.map(S)),x.mark&&Object(j.jsxs)(s.K,{row:!0,className:"m-0 ml-2",children:[Object(j.jsx)(s.u,{className:"p-0",style:{maxWidth:60},children:Object(j.jsx)(s.P,{size:"sm",placeholder:"\u0110i\u1ec3m",value:null===w||void 0===w?void 0:w.score,disabled:y.disableMark,onChange:function(e){return y.updateScore(Object(i.a)(Object(i.a)({},w),{},{criterion:{id:x.id},score:e.target.value}))}})}),Object(j.jsx)(s.u,{className:"p-0",children:Object(j.jsx)(s.Gb,{size:"sm",rows:1,placeholder:"B\xecnh lu\u1eadn cho: ".concat(null===(O=x.description)||void 0===O?void 0:O.slice(0,150)),value:null===w||void 0===w?void 0:w.comment,disabled:y.disableMark,onChange:function(e){return y.updateScore(Object(i.a)(Object(i.a)({},w),{},{criterion:{id:x.id},comment:e.target.value}))}})}),v&&Object(j.jsx)(s.u,{md:"0",children:Object(j.jsx)(s.Mb,{content:"B\u1ecf ch\u1ea5m \u0111i\u1ec3m ti\xeau ch\xed",children:Object(j.jsx)(s.f,{size:"sm",color:"primary",variant:"ghost",onClick:function(){C(Object(i.a)(Object(i.a)({},x),{},{mark:!1}))},children:Object(j.jsx)(a.a,{name:"cil-trash"})})})})]})]})}},795:function(e,t,c){"use strict";c.r(t);var n=c(46),i=c(135),r=c(59),a=c(48),s=c(718),o=c.n(s),l=c(1),j=c(26),d=c(77),u=c(717),b=c(108),h=c(724),O=c(13);t.default=function(){var e=Object(u.b)([u.a.EDUCATION_STAFF]),t=Object(j.g)(),c=Object(j.h)().pathname.match(/templates\/([0-9]+)/,""),s=Object(l.useState)({}),m=Object(i.a)(s,2),x=m[0],p=m[1],v=Object(l.useState)(!c),f=Object(i.a)(v,2),C=f[0],g=f[1],k=Object(l.useState)(!1),y=Object(i.a)(k,2),w=y[0],N=y[1],S=function(e,t){return{value:o.a.get(x,e),onChange:function(c){return function(e,t){var c=o.a.cloneDeep(x);o.a.set(c,e,t),p(c)}(null!==e&&void 0!==e?e:t,c.target.value)}}};return Object(l.useEffect)((function(){c&&d.a.get("/templates/detail/".concat(c[1])).then((function(e){p(e)}))}),[w]),Object(O.jsxs)(a.j,{children:[Object(O.jsx)(a.n,{children:Object(O.jsxs)(a.J,{children:[Object(O.jsxs)(a.tb,{children:[Object(O.jsx)(a.u,{className:"mt-2 mb-2",children:Object(O.jsx)("h5",{children:Object(O.jsx)("center",{children:Object(O.jsx)("strong",{children:c?"M\u1eabu ti\xeau ch\xed s\u1ed1 ".concat(x.id):"T\u1ea1o m\u1eabu ti\xeau ch\xed"})})})}),Object(O.jsx)(a.u,{md:"0",children:C?Object(O.jsxs)(O.Fragment,{children:[c&&Object(O.jsxs)(a.f,{color:"primary",variant:"outline",onClick:function(){g(!1),N(!w)},children:[Object(O.jsx)(r.a,{name:"cil-x"})," H\u1ee7y"]}),Object(O.jsxs)(a.f,{color:"primary",variant:"outline",onClick:function(){c?d.a.patch("/templates",x).then((function(e){b.a.success("C\u1eadp nh\u1eadt m\u1eabu ti\xeau ch\xed s\u1ed1 ".concat(e.id," th\xe0nh c\xf4ng")),p(e),g(!1)})):d.a.post("/templates",x).then((function(e){t.push("/templates/".concat(e.id)),b.a.success("T\u1ea1o m\u1eabu ti\xeau ch\xed th\xe0nh c\xf4ng")}))},children:[Object(O.jsx)(r.a,{name:"cil-save"})," L\u01b0u"]})]}):e&&Object(O.jsx)(a.Mb,{content:"Ch\u1ec9nh s\u1eeda m\u1eabu ti\xeau ch\xed",children:Object(O.jsx)(a.f,{color:"primary",variant:"outline",onClick:function(){return g(!0)},children:Object(O.jsx)(r.a,{name:"cil-pencil"})})})})]}),Object(O.jsxs)("fieldset",{disabled:!C,children:[Object(O.jsxs)(a.K,{row:!0,children:[Object(O.jsx)(a.u,{md:"1",children:"T\xean m\u1eabu ti\xeau ch\xed"}),Object(O.jsx)(a.u,{children:Object(O.jsx)(a.P,Object(n.a)({},S("name")))})]}),Object(O.jsxs)(a.K,{row:!0,children:[Object(O.jsx)(a.u,{md:"1",children:"M\xf4 t\u1ea3"}),Object(O.jsx)(a.u,{children:Object(O.jsx)(a.Gb,Object(n.a)({rows:"3"},S("description")))})]})]})]})}),Object(O.jsx)(a.k,{className:"pl-0 mr-3",children:Object(O.jsx)(h.a,{criterion:x.rootCriterion,deep:0,edit:C,updateCriterion:function(e){var t=Object(n.a)(Object(n.a)({},x),{},{rootCriterion:e});p(t)}})})]})}}}]);
//# sourceMappingURL=23.1f3b93df.chunk.js.map