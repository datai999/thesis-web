{"version":3,"sources":["pages/setting/ShareSettingModal.js","pages/setting/ShareSettingTable.js","pages/setting/ShareSetting.js"],"names":["MainComponent","view","disableView","success","defaultForm","props","useState","name","setName","deleted","setDeleted","update","setUpdate","submitSuccess","response","useEffect","Object","keys","length","color","show","onClose","closeButton","headerTitle","className","md","id","row","htmlFor","invalid","valid","undefined","required","defaultValue","onChange","e","target","value","labelOn","labelOff","checked","currentTarget","onClick","form","api","patch","baseURL","then","post","fields","key","label","_style","width","sorter","filter","data","setData","modalView","setModalView","setDefaultForm","getData","a","get","ShareSettingModal","initContext","items","striped","itemsPerPage","scopedSlots","item","actions","variant","size","settings","educationMethod","degree","subjectDepartment","major","ShareSettingTable"],"mappings":"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","file":"static/js/54.0cc615fb.chunk.js","sourcesContent":["import {\r\n  CButton,\r\n  CCol,\r\n  CForm,\r\n  CFormGroup,\r\n  CInput,\r\n  CInvalidFeedback,\r\n  CLabel,\r\n  CModal,\r\n  CModalBody,\r\n  CModalFooter,\r\n  CModalHeader,\r\n  CModalTitle,\r\n  CRow,\r\n  CSwitch\r\n} from \"@coreui/react\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport api from \"src/service/api\";\r\n\r\nconst MainComponent = ({\r\n  view,\r\n  disableView,\r\n  success,\r\n  defaultForm = {},\r\n  ...props\r\n}) => {\r\n  const [name, setName] = useState(null);\r\n  const [deleted, setDeleted] = useState(true);\r\n  const [update, setUpdate] = useState(false);\r\n\r\n  const submitSuccess = (response) => {\r\n    setName(null);\r\n    setUpdate(false);\r\n    disableView();\r\n    success(response);\r\n  };\r\n\r\n  const submit = () => {\r\n    const form = { id: defaultForm.id, name, deleted };\r\n    if (update) api.patch(`${props.baseURL}`, form).then(submitSuccess);\r\n    else api.post(`${props.baseURL}`, form).then(submitSuccess);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setUpdate(defaultForm && Object.keys(defaultForm).length > 0);\r\n    if (Object.keys(defaultForm).length > 0) {\r\n      setDeleted(defaultForm.deleted);\r\n    }\r\n    setName(defaultForm.name);\r\n  }, [defaultForm]);\r\n\r\n  return (\r\n    <CModal color=\"info\" show={view} onClose={disableView}>\r\n      <CModalHeader closeButton>\r\n        <CModalTitle>\r\n          {update ? \"Chỉnh sửa\" : \"Thêm mới\"} {props.headerTitle}\r\n        </CModalTitle>\r\n      </CModalHeader>\r\n      <CModalBody className=\"px-3\">\r\n        {update && (\r\n          <CRow>\r\n            <CCol md=\"4\">\r\n              <CLabel>Mã vai trò</CLabel>\r\n            </CCol>\r\n            <CCol>{defaultForm.id}</CCol>\r\n          </CRow>\r\n        )}\r\n\r\n        <CForm>\r\n          <CFormGroup row>\r\n            <CCol md=\"4\">\r\n              <CLabel htmlFor=\"name\">Tên vai trò</CLabel>\r\n            </CCol>\r\n            <CCol>\r\n              <CInput\r\n                id=\"name\"\r\n                invalid={!name}\r\n                valid={name !== null && name !== undefined}\r\n                required\r\n                defaultValue={name}\r\n                onChange={(e) => {\r\n                  setName(e.target.value);\r\n                }}\r\n              />\r\n              {!name && (\r\n                <CInvalidFeedback>Không được để trống</CInvalidFeedback>\r\n              )}\r\n            </CCol>\r\n          </CFormGroup>\r\n\r\n          <CFormGroup row>\r\n            <CCol md=\"4\">\r\n              <CLabel>Sử dụng</CLabel>\r\n            </CCol>\r\n            <CCol md=\"3\">\r\n              <CSwitch\r\n                color=\"primary\"\r\n                labelOn={\"\\u2713\"}\r\n                labelOff={\"\\u2715\"}\r\n                checked={!deleted}\r\n                onChange={(e) => setDeleted(!e.currentTarget.checked)}\r\n              />\r\n            </CCol>\r\n          </CFormGroup>\r\n        </CForm>\r\n      </CModalBody>\r\n      <CModalFooter>\r\n        <CButton color=\"info\" onClick={submit}>\r\n          Xác nhận\r\n        </CButton>\r\n        <CButton color=\"secondary\" onClick={disableView}>\r\n          Quay về\r\n        </CButton>\r\n      </CModalFooter>\r\n    </CModal>\r\n  );\r\n};\r\n\r\nexport default MainComponent;\r\n","import CIcon from \"@coreui/icons-react\";\r\nimport {\r\n  CBadge,\r\n  CButton,\r\n  CCard,\r\n  CCardBody,\r\n  CCardHeader,\r\n  CCol,\r\n  CDataTable,\r\n  CRow\r\n} from \"@coreui/react\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport api from \"src/service/api\";\r\nimport { initContext } from \"src/service/contextService\";\r\nimport ShareSettingModal from \"./ShareSettingModal\";\r\n\r\nconst fields = [\r\n  { key: \"id\", label: \"Mã\" },\r\n  { key: \"name\", label: \"Tên\" },\r\n  { key: \"deleted\", label: \"Sử dụng\" },\r\n  {\r\n    key: \"actions\",\r\n    label: \"\",\r\n    _style: { width: \"10%\" },\r\n    sorter: false,\r\n    filter: false,\r\n  },\r\n];\r\n\r\nconst MainComponent = ({ props }) => {\r\n  const [data, setData] = useState([]);\r\n  const [modalView, setModalView] = useState(false);\r\n  const [defaultForm, setDefaultForm] = useState({});\r\n\r\n  const getData = async () => {\r\n    api.get(`${props.baseURL}/all`).then(setData);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <CCard>\r\n      <ShareSettingModal\r\n        view={modalView}\r\n        disableView={() => setModalView(false)}\r\n        defaultForm={defaultForm}\r\n        success={() => {\r\n          initContext();\r\n          setDefaultForm({});\r\n          getData();\r\n        }}\r\n        {...props}\r\n      />\r\n      <CCardHeader>\r\n        <CRow>\r\n          <CCol>\r\n            <h4 className=\"card-title mb-0\">{props.headerTitle}</h4>\r\n          </CCol>\r\n          <CCol md=\"4\">\r\n            <CButton\r\n              color=\"primary\"\r\n              className=\"float-right\"\r\n              onClick={async () => {\r\n                await setDefaultForm({});\r\n                setModalView(true);\r\n              }}\r\n            >\r\n              Thêm mới\r\n            </CButton>\r\n          </CCol>\r\n        </CRow>\r\n      </CCardHeader>\r\n      <CCardBody>\r\n        <CDataTable\r\n          items={data}\r\n          fields={fields}\r\n          striped\r\n          itemsPerPage={5}\r\n          scopedSlots={{\r\n            deleted: (item) => (\r\n              <td>\r\n                <CBadge color={item.deleted ? \"secondary\" : \"success\"}>\r\n                  {item.deleted ? \"Không\" : \"Có\"}\r\n                </CBadge>\r\n              </td>\r\n            ),\r\n            actions: (item) => (\r\n              <td>\r\n                <CButton\r\n                  color=\"primary\"\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  onClick={() => {\r\n                    setDefaultForm(item);\r\n                    setModalView(true);\r\n                  }}\r\n                >\r\n                  <CIcon name=\"cil-pencil\" />\r\n                </CButton>\r\n              </td>\r\n            ),\r\n          }}\r\n        />\r\n      </CCardBody>\r\n    </CCard>\r\n  );\r\n};\r\n\r\nexport default MainComponent;\r\n","import { CCol, CRow } from \"@coreui/react\";\r\nimport React from \"react\";\r\nimport ShareSettingTable from \"./ShareSettingTable\";\r\n\r\nconst settings = {\r\n  educationMethod: {\r\n    headerTitle: \"Phương thức đào tạo\",\r\n    baseURL: \"/education-methods\",\r\n  },\r\n  degree: {\r\n    headerTitle: \"Học vị\",\r\n    baseURL: \"/degrees\",\r\n  },\r\n  subjectDepartment: {\r\n    headerTitle: \"Phòng ban - Bộ môn\",\r\n    baseURL: \"/subject-departments\",\r\n  },\r\n  major: {\r\n    headerTitle: \"Chuyên ngành\",\r\n    baseURL: \"/majors\",\r\n  },\r\n};\r\n\r\nconst MainComponent = () => {\r\n  return (\r\n    <>\r\n      <CRow>\r\n        <CCol>\r\n          <ShareSettingTable props={settings.educationMethod} />\r\n        </CCol>\r\n        <CCol>\r\n          <ShareSettingTable props={settings.degree} />\r\n        </CCol>\r\n      </CRow>\r\n      <CRow>\r\n        <CCol>\r\n          <ShareSettingTable props={settings.subjectDepartment} />\r\n        </CCol>\r\n        <CCol>\r\n          <ShareSettingTable props={settings.major} />\r\n        </CCol>\r\n      </CRow>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MainComponent;\r\n"],"sourceRoot":""}